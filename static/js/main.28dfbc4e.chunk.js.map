{"version":3,"sources":["redux/reducers/handleItem.js","redux/actionTypes.js","redux/reducers/handleProfile.js","redux/reducers/index.js","redux/actions.js","redux/store.js","Data/featuredProducts.js","Api/backend.js","components/Products/ProductCard.js","components/Products/FeaturedProducts.js","components/Home/Home.js","components/Cart/CartItem.js","components/Cart/CartModal.js","components/Register/Logout.js","components/Register/Register.js","components/Account/AccountHover.js","components/Account/AccountNav.js","components/Nav/Nav.js","components/Cart/CheckoutItem.js","components/Cart/CheckoutForm.js","components/Cart/Cart.js","components/Register/Login.jsx","components/Register/Signup.jsx","Data/products.js","components/Products/Products.js","components/Products/ProductShow.js","components/Account/AddressForm.js","components/Account/EditAddress.js","components/Account/Address.js","components/Account/Account.js","components/Register/ProtectedRoute.js","components/Profile/ProfileForm.js","components/App/App.js","serviceWorker.js","index.js"],"names":["calculatePrice","items","result","map","item","Number","price","qty","handleItem","state","cart","id","totalCostBeforeTax","user","profile","action","type","payload","itemId","prevItems","prevCartId","filter","_id","totalBeforeTax","newQty","length","Object","assign","toFixed","products","cartID","console","log","totalBeforeTaxes","newRemovedQty","data","i","productItems","cartId","createdAt","totalBeforeTaxed","newGetQty","handleProfile","shippingInfo","rootReducer","combineReducers","getCart","createCart","addItem","removeItem","loggerMiddleware","createLogger","store","createStore","applyMiddleware","thunkMiddleware","Product","name","description","image","category","this","product1","product2","product3","push","axios","create","baseURL","ProductCard","isLoaded","showDesc","addToCartButtonText","addToCartButtonDisabled","shortDescription","slice","showDescription","setState","handleSetQty","event","target","value","getImageURl","props","undefined","src","className","alt","handleAddProduct","qtyRef","product","addItemToCart","productQty","itemIds","backend","patch","then","res","statusText","catch","err","alert","productClass","isLoggedIn","replace","c","toUpperCase","onClick","to","pathname","Component","connect","removeItemFromCart","FeaturedProducts","addToCart","hideDeal","featuredProducts","Home","data-ride","data-target","data-slide-to","role","style","backgroundImage","href","data-slide","aria-hidden","CartItem","handleRemoveItem","ids","error","hideModal","display","justifyContent","fontSize","CartModal","showCartItems","key","checkout","onHide","removeFromCart","Modal","size","aria-labelledby","centered","Header","Title","Button","variant","Body","Footer","Logout","handleLogout","handleLogin","Cookies","remove","Register","AccountHover","showAccountClass","showAccountMenu","onMouseLeave","AccountNav","show","onMouseEnter","Nav","showCart","expanded","handleShowCart","handleToggler","data-toggle","aria-controls","aria-expanded","aria-label","ownProps","CheckoutItem","CheckoutForm","complete","submit","bind","ev","SK_TEST","process","SK_LIVE","subTotal","stripe","createToken","token","Math","round","JSON","stringify","method","headers","Authorization","total","class","injectStripe","Cart","isCheckedOut","tax","proccessFee","showCheckoutItems","cartQty","handleCheckout","showCheckoutForm","validTotal","PK_LIVE","calculateSubTotal","apiKey","totalWithTax","Login","handleInputChange","onSubmit","redirect","preventDefault","status","Error","set","expires","get","handleGetCart","history","a","async","email","password","containerClass","placeholder","onChange","required","Signup","userId","handleCreateCart","post","product4","product5","Products","location","productList","url","ProductShow","getImageOr404","relatedProducts","firstWord","includes","htmlFor","min","max","ref","disabled","AddressForm","addressType","street","suite","province","city","postalCode","e","handleAddAddress","showAddressForm","showForm","Form","Group","controlId","Label","Control","Text","as","EditAddress","showEditForm","profileId","address","getAddresses","Address","newData","addresses","editKey","showConfirmDeleteMessage","confirmText","showAddress","editInfo","showConfirmMessage","deleteAddress","deleteInfo","handleConfirmChange","toLowerCase","handleDelete","delete","getProfile","showAddresses","vb","setTimeout","componentDidMount","autofocus","Account","showOrders","itemToShow","PrivateRoute","children","rest","useState","showAlert","setShowAlert","render","ProfileForm","createBrowserHistory","App","selectedProduct","addedToCart","valid","y","setSelectedProduct","selectProduct","toggleAlert","forceUpdate","basename","exact","path","ProtectedRoute","timestamp","Date","toString","Boolean","window","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.28dfbc4e.chunk.js","sourcesContent":["import { ADD_ITEM, REMOVE_ITEM, CREATE_CART, GET_CART } from \"../actionTypes\";\n\nconst handleItem = (\n  state = {\n    cart: { items: [], qty: 0, id: null, totalCostBeforeTax: 0 },\n    user: { id: null, profile: [] }\n  },\n  action\n) => {\n  switch (action.type) {\n    case ADD_ITEM:\n      let { item, qty } = action.payload;\n      const { id: itemId } = item;\n      const {\n        cart: { items: prevItems, qty: prevQty, id: prevCartId }\n      } = state;\n      item.qty = qty;\n\n      const items = [\n        ...prevItems.filter(item => (item._id !== itemId ? item : null)),\n        item\n      ];\n      const totalBeforeTax = calculatePrice(items);\n      const newQty = items ? items.length : 0;\n\n      return Object.assign({}, state, {\n        cart: {\n          items,\n          qty: newQty,\n          id: prevCartId,\n          totalCostBeforeTax: totalBeforeTax.toFixed(2)\n        }\n      });\n\n    case REMOVE_ITEM:\n      const { products } = action.payload;\n      const {\n        cart: { id: cartID }\n      } = state;\n      console.log(action);\n\n      const totalBeforeTaxes = calculatePrice(products);\n      const newRemovedQty = products ? products.length : 0;\n\n      return Object.assign({}, state, {\n        cart: {\n          items: products,\n          id: cartID,\n          totalCostBeforeTax: totalBeforeTaxes.toFixed(2),\n          qty: newRemovedQty\n        }\n      });\n\n    case CREATE_CART:\n      const data = action.data;\n      console.log(data);\n\n      const {\n        _id,\n        user: { id: i }\n      } = data;\n      return Object.assign({}, state, {\n        user: { id: i },\n        cart: { items: [], qty: 0, id: _id, totalCostBeforeTax: 0 }\n      });\n\n    case GET_CART:\n      console.log(action);\n      const {\n        cart: { products: productItems, _id: cartId, createdAt },\n        user\n      } = action;\n      const totalBeforeTaxed = calculatePrice(productItems);\n      const newGetQty = productItems ? productItems.length : 0;\n      return Object.assign({}, state, {\n        user,\n        cart: {\n          items: productItems,\n          qty: newGetQty,\n          id: cartId,\n          totalCostBeforeTax: totalBeforeTaxed.toFixed(2)\n        }\n      });\n\n    default:\n      return state;\n  }\n};\nconst calculatePrice = items => {\n  let result = 0;\n\n  if (!items) {\n    return result;\n  } else {\n    items.map(item => {\n      return (result += Number(item.price * item.qty));\n    });\n  }\n  return result;\n};\n\nexport default handleItem;\n","export const ADD_ITEM = \"ADD_ITEM\";\nexport const REMOVE_ITEM = \"REMOVE_ITEM\";\nexport const CREATE_CART = \"CREATE_CART\";\nexport const GET_CART = \"GET_CART\";\nexport const GET_PROFILE = \"GET_PROFILE\";\n","import { GET_PROFILE } from \"../actionTypes\";\n\nconst handleProfile = (\n  state = {\n    profile: { shippingInfo: [] }\n  },\n  action\n) => {\n  switch (action.type) {\n    case GET_PROFILE:\n      const { profile } = action.payload;\n      return Object.assign({}, state, {\n        profile\n      });\n    default:\n      return state;\n  }\n};\nexport default handleProfile;\n","import { combineReducers } from \"redux\";\nimport handleItem from \"./handleItem\";\nimport handleProfile from \"./handleProfile\";\n\nconst rootReducer = combineReducers({ handleItem, handleProfile });\n\nexport default rootReducer;\n","import {\n  ADD_ITEM,\n  REMOVE_ITEM,\n  CREATE_CART,\n  GET_CART,\n  GET_PROFILE\n} from \"./actionTypes\";\n\n// make api calls here for simple calls\n// use react-thunk as package?\n\nexport const getCart = data => {\n  const { _id, products, user } = data;\n\n  return {\n    type: GET_CART,\n    cart: { _id, products },\n    user\n  };\n};\n\nexport const createCart = data => {\n  return {\n    type: CREATE_CART,\n    data\n  };\n};\n\nexport const addItem = (qty, item) => {\n  // local.patch(\"/\", item)\n  return {\n    type: ADD_ITEM,\n    payload: {\n      qty,\n      item\n    }\n  };\n};\n\nexport const removeItem = data => {\n  const { products } = data;\n  return {\n    type: REMOVE_ITEM,\n    payload: {\n      products\n    }\n  };\n};\n\nexport const getProfile = data => {\n  // const addresses = data.shippingInfo.map(address => address.shippingInfo);\n  // const id = data.map(i => i._id);\n  return {\n    type: GET_PROFILE,\n    payload: {\n      profile: data\n    }\n  };\n};\n","import { createStore, applyMiddleware } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\nimport { createLogger } from \"redux-logger\";\nimport { createCart } from \"../redux/actions\";\n\nconst loggerMiddleware = createLogger();\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(thunkMiddleware, loggerMiddleware)\n);\n// store.dispatch(createCart(\"10001\"));\nexport default store;\n","class Product {\n  constructor(_id, name, description, price, image, category, qty = 1) {\n    this._id = _id;\n    this.name = name;\n    this.description = description;\n    this.price = price;\n    this.image = image;\n    this.category = category;\n    this.qty = qty;\n  }\n}\nconst products = [];\nconst product1 = new Product(\n  \"5e2e3d8d50d8891b1cd5d9e1\",\n  \"Gucci Sticker\",\n  \"Juul Sticker\",\n  \"2.53\",\n  \"https://jaybenaim.github.io/isell/images/img1.jpg\",\n  \"TEST\"\n);\nconst product2 = new Product(\n  \"5e2e3dde50d8891b1cd5d9e2\",\n  \"Rick and Morty\",\n  \"Juul Sticker\",\n  \"2.00\",\n  \"https://jaybenaim.github.io/isell/images/img2.jpg\",\n  \"Phone Accesories\"\n);\nconst product3 = new Product(\n  \"5e2e3e1450d8891b1cd5d9e3\",\n  \"Supreme\",\n  \"Juul Sticker\",\n  \"2.00\",\n  \"https://jaybenaim.github.io/isell/images/img3.jpg\",\n  \"Phone Accesories\"\n);\nproducts.push(product1, product2, product3);\n\nexport default products;\n","import axios from \"axios\";\n\n// axios.defaults.xsrfCookieName = \"csrftoken\";\n// axios.defaults.xsrfHeaderName = \"X-CSRFToken\";\n\nexport default axios.create({\n  baseURL: \"https://isellapi.herokuapp.com/api\"\n});\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport backend from \"../../Api/backend\";\nimport {\n  addItem as addItemToCart,\n  removeItem as removeItemFromCart\n} from \"../../redux/actions\";\nclass ProductCard extends Component {\n  state = {\n    isLoaded: false,\n    showDesc: false,\n    qty: 1,\n    addToCartButtonText: \"Add to cart\",\n    addToCartButtonDisabled: false\n  };\n  shortDescription = description => {\n    if (description.length <= 15) {\n      return description;\n    } else {\n      return description.slice(0, 15) + \"...\";\n    }\n  };\n  showDescription = () => {\n    const { showDesc } = this.state;\n    this.setState({ showDesc: !showDesc });\n  };\n  componentDidMount() {\n    this.setState({ image: true });\n  }\n  handleSetQty = event => {\n    let qty = Number(event.target.value);\n    this.setState({ qty: qty });\n  };\n\n  getImageURl = () => {\n    const { image, name } = this.props;\n    if (image === undefined) {\n      return (\n        <img\n          src={\"https://placehold.it/700x400\"}\n          className=\"card-img-top\"\n          alt={name}\n        />\n      );\n    } else {\n      return <img src={image} className=\"card-img-top\" alt=\"none\" />;\n    }\n  };\n  handleAddProduct = (qtyRef, product) => {\n    const {\n      addItemToCart: addItem,\n      cart: { id, items }\n    } = this.props;\n    const productQty = { qty: qtyRef };\n\n    let itemIds = items.map(item => item._id);\n    itemIds.push(product._id);\n\n    const data = {\n      products: [...itemIds]\n    };\n    if (qtyRef > 1) {\n      backend.patch(`/products/${product._id}`, productQty, {}).then(res => {\n        console.log(res.statusText, \"Product updated\");\n      });\n    }\n\n    backend\n      .patch(`/carts/${id}`, data, {})\n      .then(res => {\n        console.log(res.data + \"Item added\");\n        addItem(qtyRef, product);\n      })\n      .catch(err => {\n        alert(\"Error adding item\");\n      });\n\n    this.setState({\n      addToCartButtonText: \"Added to cart\",\n      addToCartButtonDisabled: true\n    });\n  };\n  render() {\n    const { showDesc } = this.state;\n    let {\n      _id,\n      name,\n      description,\n      price,\n      productClass,\n      product,\n      image,\n      isLoggedIn\n    } = this.props;\n    name = name.replace(/^\\w/, c => c.toUpperCase());\n    description = description.replace(/^\\w/, c => c.toUpperCase());\n    !image && (image = product.image);\n    return (\n      <div className={`${productClass} card`}>\n        {this.getImageURl()}\n\n        <div className=\"card-body\">\n          <h5 className=\"card-title\">{name}</h5>\n          <p className=\"card-text\" onClick={() => this.showDescription()}>\n            {showDesc ? description : this.shortDescription(description)}\n          </p>\n\n          <br />\n          <Link\n            to={{\n              pathname: `/products/${_id}/show`,\n              state: {\n                _id,\n                name,\n                description,\n                price,\n                image,\n                isLoggedIn,\n                product\n              }\n            }}\n            className=\"btn btn-primary show-product-btn\"\n          >\n            <span>CAD ${price}</span>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { totalCostBeforeTax, cart, user } = state.handleItem;\n\n  return { totalCostBeforeTax, cart, user };\n};\n\nexport default connect(mapStateToProps, { addItemToCart, removeItemFromCart })(\n  ProductCard\n);\n","import React, { Component } from \"react\";\nimport featuredProducts from \"../../Data/featuredProducts\";\nimport ProductCard from \"./ProductCard\";\nimport \"./featuredProducts.css\";\n\nclass FeaturedProducts extends Component {\n  state = {};\n  render() {\n    const { addToCart, isLoggedIn, hideDeal } = this.props;\n    return (\n      <div className=\"featured-products-container\">\n        <div className=\"card text-center\">\n          {!hideDeal && (\n            <div className=\"card-header\">\n              <h5 className=\"card-title\">Featured Products</h5>\n              <p className=\"card-text\">\n                Take an additional 10% when using the code{\" \"}\n                <span className=\"text-secondary\">FREESTUFF </span>\n                <br />\n              </p>\n            </div>\n          )}\n\n          <div className=\"card-body\">\n            <div className=\"featured-products-grid\">\n              <div className=\"card-1\">\n                <ProductCard\n                  {...featuredProducts[0]}\n                  product={featuredProducts[0]}\n                  productClass={`product-card-1 product-card`}\n                  addToCart={addToCart}\n                  isLoggedIn={isLoggedIn}\n                />\n              </div>\n              <hr />\n              <div className=\"card-2\">\n                <ProductCard\n                  {...featuredProducts[1]}\n                  product={featuredProducts[1]}\n                  productClass={`product-card-2 product-card`}\n                  addToCart={addToCart}\n                  isLoggedIn={isLoggedIn}\n                />\n              </div>\n              <hr />\n\n              <div className=\"card-3\">\n                <ProductCard\n                  {...featuredProducts[2]}\n                  product={featuredProducts[2]}\n                  productClass={`product-card-3 product-card`}\n                  addToCart={addToCart}\n                  isLoggedIn={isLoggedIn}\n                />\n              </div>\n            </div>\n          </div>\n          {!hideDeal ? (\n            <div className=\"card-footer text-muted\">All Products</div>\n          ) : (\n            <div className=\"card-footer text-muted\">2 days ago</div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default FeaturedProducts;\n","import React, { Component } from \"react\";\nimport FeaturedProducts from \"../Products/FeaturedProducts\";\nimport \"./home.css\";\nclass Home extends Component {\n  state = {};\n\n  render() {\n    const { addToCart, isLoggedIn } = this.props;\n    return (\n      <>\n        <header>\n          <div\n            id=\"home-carousel\"\n            className=\"carousel slide\"\n            data-ride=\"carousel\"\n          >\n            <ol className=\"carousel-indicators\">\n              <li\n                data-target=\"#home-carousel\"\n                data-slide-to=\"0\"\n                className=\"active\"\n              ></li>\n              <li data-target=\"#home-carousel\" data-slide-to=\"1\"></li>\n              <li data-target=\"#home-carousel\" data-slide-to=\"2\"></li>\n            </ol>\n            <div className=\"carousel-inner\" role=\"listbox\">\n              {/* <!-- Slide One - Set the background image for this slide in the line below --> */}\n              <div\n                className=\"carousel-item active carousel-item-1\"\n                style={{\n                  backgroundImage: `url(\"https://placehold.it/1900x1080\")`\n                }}\n              >\n                <div className=\"carousel-caption d-none d-md-block\">\n                  <h3>50% OFF</h3>\n\n                  <p className=\"discount\">Use code SALETIME for 50% off</p>\n                </div>\n              </div>\n              {/* <!-- Slide Two - Set the background image for this slide in the line below --> */}\n              <div\n                className=\"carousel-item carousel-item-2\"\n                style={{\n                  backgroundImage: `url(\"https://placehold.it/1900x1080\")`\n                }}\n              >\n                <div className=\"carousel-caption d-none d-md-block\">\n                  <h3>Got a Product?</h3>\n                  <p>Let us help you get is sold for top dollar</p>\n                </div>\n              </div>\n              {/* <!-- Slide Three - Set the background image for this slide in the line below --> */}\n              <div\n                className=\"carousel-item carousel-item-3\"\n                style={{\n                  backgroundImage: `url(\"https://placehold.it/1900x1080\")`\n                }}\n              >\n                <div className=\"carousel-caption d-none d-md-block\">\n                  <h3>Local Products</h3>\n                  <p>All sellers are in your current area</p>\n                </div>\n              </div>\n            </div>\n            <a\n              className=\"carousel-control-prev\"\n              href=\"#home-carousel\"\n              role=\"button\"\n              data-slide=\"prev\"\n            >\n              <span\n                className=\"carousel-control-prev-icon\"\n                aria-hidden=\"true\"\n              ></span>\n              <span className=\"sr-only\">Previous</span>\n            </a>\n            <a\n              className=\"carousel-control-next\"\n              href=\"#home-carousel\"\n              role=\"button\"\n              data-slide=\"next\"\n            >\n              <span\n                className=\"carousel-control-next-icon\"\n                aria-hidden=\"true\"\n              ></span>\n              <span className=\"sr-only\">Next</span>\n            </a>\n          </div>\n        </header>\n        <div>\n          <FeaturedProducts addToCart={addToCart} isLoggedIn={isLoggedIn} />\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport { BrowserRouter as Route, Switch, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { removeItem } from \"../../redux/actions\";\nimport backend from \"../../Api/backend\";\nimport \"./cartItem.css\";\nclass CartItem extends Component {\n  state = {};\n  shortDescription = description => {\n    return !description\n      ? \"\"\n      : description.length <= 15\n      ? description\n      : description.slice(0, 15) + \"...\";\n  };\n  handleRemoveItem = (id, price) => {\n    const {\n      removeItem: removeItemFromCart,\n      cart: { items, id: cartID },\n      item: { qty }\n    } = this.props;\n    const itemIds = items.filter(item => {\n      return item._id !== id;\n    });\n    const ids = itemIds.map(item => {\n      return item._id;\n    });\n\n    const data = { products: [...ids] };\n\n    const productQty = { qty: 1 };\n    if (qty > 1) {\n      backend.patch(`/products/${id}`, productQty, {}).then(res => {\n        console.log(res.statusText, \"Product updated\");\n      });\n    }\n    backend\n      .patch(`/carts/${cartID}`, data, {})\n      .then(res => {\n        console.log(res.data, \"Item removed\");\n        removeItemFromCart(res.data);\n      })\n      .catch(err => {\n        alert(\"Error removing item\");\n      });\n  };\n  render() {\n    const { error, item, hideModal } = this.props;\n    const { _id: id, name, price, description, image, qty } = item;\n\n    return (\n      <>\n        {error ? (\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              fontSize: \"2.6em\"\n            }}\n          >\n            {error}\n          </div>\n        ) : (\n          <div className=\"modal-cart-item-container\">\n            <Link\n              to={{\n                pathname: `/products/${id}/show`,\n                state: { item }\n              }}\n              className=\"modal-link-to-product-show\"\n              onClick={() => hideModal()}\n            >\n              <img src={image} alt={name} className=\"modal-cart-image\" />\n            </Link>\n            <span className=\"modal-cart-name\">{name}</span>\n            <span className=\"modal-cart-short-desc\">\n              {this.shortDescription(description)}\n            </span>\n\n            <span className=\"modal-cart-price\">\n              CAD <strong>${price * qty}</strong>{\" \"}\n            </span>\n            <span className=\"modal-cart-qty\">\n              QTY {qty} @ ${price}\n            </span>\n            <button\n              className=\"modal-cart-remove-item btn btn-outline-danger\"\n              onClick={() => this.handleRemoveItem(id, price)}\n            >\n              Remove Item\n            </button>\n          </div>\n        )}\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { cart } = state.handleItem;\n\n  return { cart };\n};\n\nexport default connect(mapStateToProps, { removeItem })(CartItem);\n","import React, { Component } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport CartItem from \"./CartItem\";\nimport { connect } from \"react-redux\";\n\nimport \"./cartModal.css\";\n\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nclass CartModal extends Component {\n  state = {};\n  showCartItems = () => {\n    const { cart } = this.props;\n    const { qty, items } = cart;\n\n    if (qty >= 1) {\n      let cartItems = items.map((item, i) => {\n        return <CartItem item={item} key={i} hideModal={this.checkout} />;\n      });\n      return cartItems;\n    } else {\n      return (\n        <CartItem\n          item={{ name: null, price: null, description: null, image: null }}\n          error=\"Your cart is empty\"\n        />\n      );\n    }\n  };\n  checkout = () => {\n    const { onHide } = this.props;\n    onHide();\n  };\n\n  render() {\n    const { props } = this;\n    const {\n      cart,\n      onHide,\n      cart: { totalCostBeforeTax },\n      removeFromCart\n    } = props;\n\n    return (\n      <Modal\n        {...props}\n        size=\"lg\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n      >\n        <Modal.Header>\n          <Modal.Title id=\"contained-modal-title-vcenter\">\n            Your Cart\n          </Modal.Title>\n          <Button onClick={onHide} variant=\"outline-danger\">\n            X\n          </Button>\n        </Modal.Header>\n        <Modal.Body>{this.showCartItems()}</Modal.Body>\n        <Modal.Footer>\n          <Link\n            className=\"nav-link btn-success proceed-to-checkout-btn\"\n            onClick={() => this.checkout()}\n            to={{\n              pathname: `/cart`\n            }}\n          >\n            Proceed to checkout\n            <br />\n            <span className=\"proceed-to-checkout-total\">\n              Total: ${totalCostBeforeTax}\n            </span>\n          </Link>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  const { cart } = state.handleItem;\n\n  return { cart };\n};\n\nexport default connect(mapStateToProps, {})(CartModal);\n","import React, { Component } from \"react\";\nimport Cookies from \"js-cookie\";\nclass Logout extends Component {\n  state = {};\n  handleLogout = () => {\n    const { handleLogin } = this.props;\n    Cookies.remove(\"token\");\n    Cookies.remove(\"id\");\n    handleLogin();\n  };\n  render() {\n    return (\n      <>\n        <button className=\"logout-btn\" onClick={() => this.handleLogout()}>\n          Logout\n        </button>\n        <br />\n      </>\n    );\n  }\n}\n\nexport default Logout;\n","import React, { Component } from \"react\";\nimport Logout from \"./Logout\";\nimport { Link } from \"react-router-dom\";\nimport \"./register.css\";\n\nclass Register extends Component {\n  state = {};\n\n  render() {\n    const { isLoggedIn, handleLogin } = this.props;\n    return (\n      <div className=\"auth\">\n        {isLoggedIn ? (\n          <div>\n            <Logout handleLogin={handleLogin} />\n          </div>\n        ) : (\n          <>\n            <div className=\"login-container\">\n              <div className=\"login-btn\">\n                <Link to=\"/login\">Login</Link>\n              </div>\n              <div className=\"signup-btn\">\n                <Link to=\"/signup\">Signup</Link>\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Register;\n","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Link } from \"react-router-dom\";\n\nclass AccountHover extends Component {\n  state = {};\n  render() {\n    const { showAccountClass, showAccountMenu } = this.props;\n    return (\n      <div\n        className=\"account-link-container\"\n        onMouseLeave={() => showAccountMenu(\"none\")}\n      >\n        <ul className={showAccountClass}>\n          <Link to=\"/account\">\n            <li onClick={() => showAccountMenu(\"none\")}>Your Account</li>\n          </Link>\n          <Link to=\"/cart\">\n            <li onClick={() => showAccountMenu(\"none\")}>\n              Your Cart\n              <img src=\"https://img.icons8.com/doodle/48/000000/shopping-cart--v1.png\"></img>\n            </li>\n          </Link>\n        </ul>\n        {showAccountClass === \"account-link-mobile\" && (\n          <div\n            className=\"account-hover-close\"\n            onClick={() => showAccountMenu(\"none\")}\n          >\n            Hide\n          </div>\n        )}\n        <a href=\"https://icons8.com/icon/80857/shopping-cart\"></a>\n      </div>\n    );\n  }\n}\n\nexport default AccountHover;\n","import React, { Component } from \"react\";\nimport AccountHover from \"./AccountHover\";\nimport \"./accountNav.css\";\n\nclass AccountNav extends Component {\n  state = {\n    showAccountClass: \"account-link\"\n  };\n  showAccountMenu = show => {\n    if (show === \"mobile\") {\n      this.setState({ showAccountClass: \"account-link-mobile\" });\n    } else if (show === \"show\") {\n      this.setState({ showAccountClass: \"account-link-show\" });\n    } else {\n      this.setState({ showAccountClass: \"account-link\" });\n    }\n  };\n  render() {\n    const { showAccountClass } = this.state;\n    return (\n      <>\n        <div\n          onMouseEnter={() => this.showAccountMenu(\"show\")}\n          onClick={() => this.showAccountMenu(\"mobile\")}\n        >\n          Account\n        </div>\n        <AccountHover\n          showAccountClass={showAccountClass}\n          showAccountMenu={this.showAccountMenu}\n        />\n      </>\n    );\n  }\n}\n\nexport default AccountNav;\n","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport CartModal from \"../Cart/CartModal\";\nimport Register from \"../Register/Register\";\nimport { connect } from \"react-redux\";\nimport AccountNav from \"../Account/AccountNav\";\n\nimport \"./nav.css\";\nclass Nav extends Component {\n  state = {\n    showCart: false,\n    expanded: false\n  };\n  handleShowCart = event => {\n    const { showCart } = this.state;\n    this.setState({ showCart: !showCart });\n  };\n\n  handleToggler = () => {\n    const { expanded } = this.state;\n    this.setState({ expanded: !expanded });\n  };\n\n  render() {\n    const { isLoggedIn, handleLogin, cart } = this.props;\n    const { qty } = cart;\n    const { showCart, expanded } = this.state;\n\n    return (\n      <>\n        <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n          <a className=\"navbar-brand\" href=\"/isell\">\n            Isell\n          </a>\n          <button\n            className={\n              expanded\n                ? \"cart-btn cart-btn-1 btn cart-btn-expanded\"\n                : \"cart-btn cart-btn-1 btn\"\n            }\n            onClick={() => this.handleShowCart()}\n          >\n            <img\n              src=\"https://img.icons8.com/plasticine/100/000000/shopping-cart-promotion.png\"\n              alt=\"shopping-cart icon\"\n              className=\"cart-icon\"\n            />\n            &nbsp; <span className=\"cart-qty-icon\">{qty}</span>\n          </button>\n          {showCart && (\n            <CartModal onHide={() => this.handleShowCart()} show={showCart} />\n          )}\n          <button\n            className=\"navbar-toggler\"\n            type=\"button\"\n            data-toggle=\"collapse\"\n            data-target=\"#navbarNavDropdown\"\n            aria-controls=\"navbarNavDropdown\"\n            aria-expanded=\"false\"\n            aria-label=\"Toggle navigation\"\n            onClick={() => this.handleToggler()}\n          >\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse\" id=\"navbarNavDropdown\">\n            <ul className=\"navbar-nav\">\n              <li\n                className=\"nav-item active\"\n                data-toggle=\"collapse\"\n                data-target=\"#navbarNavDropdown\"\n              >\n                <Link\n                  className=\"nav-link products-nav-link\"\n                  to={{ pathname: \"/Products\", state: { isLoggedIn } }}\n                >\n                  Products\n                </Link>\n              </li>\n\n              <li className=\"nav-item\">\n                <AccountNav />\n              </li>\n              <li className=\"nav-item\">\n                <Register isLoggedIn={isLoggedIn} handleLogin={handleLogin} />\n              </li>\n\n              <li data-toggle=\"collapse\" data-target=\"#navbarNavDropdown\">\n                <button\n                  className=\"cart-btn btn cart-btn-2\"\n                  onClick={() => this.handleShowCart()}\n                >\n                  <img src=\"https://img.icons8.com/doodle/48/000000/shopping-cart--v1.png\"></img>\n                  &nbsp; <span>{qty}</span>\n                </button>\n              </li>\n            </ul>\n          </div>\n        </nav>\n      </>\n    );\n  }\n}\nconst mapStateToProps = (state, ownProps) => {\n  const { cart } = state.handleItem;\n\n  return { cart };\n};\n\nexport default connect(mapStateToProps, {})(Nav);\n","import React, { Component } from \"react\";\nimport \"./checkoutItem.css\";\nimport { connect } from \"react-redux\";\nimport { removeItem } from \"../../redux/actions\";\nimport backend from \"../../Api/backend\";\nclass CheckoutItem extends Component {\n  state = {};\n  handleRemoveItem = (id, price) => {\n    const {\n      removeItem,\n      cart: { items, id: cartID },\n      qty\n    } = this.props;\n    const itemIds = items.filter(item => {\n      return item._id !== id;\n    });\n    const ids = itemIds.map(item => {\n      return item._id;\n    });\n\n    const data = { products: [...ids] };\n\n    const productQty = { qty: 1 };\n    if (qty > 1) {\n      backend.patch(`/products/${id}`, productQty, {}).then(res => {\n        console.log(res.statusText, \"Product updated\");\n      });\n    }\n    backend\n      .patch(`/carts/${cartID}`, data, {})\n      .then(res => {\n        console.log(res.data, \"Item removed\");\n        removeItem(res.data);\n      })\n      .catch(err => {\n        alert(\"Error removing item\");\n      });\n  };\n  render() {\n    const {\n      _id,\n      name,\n      description,\n      price,\n      image,\n      qty,\n      removeItem\n    } = this.props;\n    return (\n      <div className=\"checkout-item\">\n        <img className=\"checkout-item-image\" src={image} alt={name} />\n        <div className=\"checkout-item-name\"> {name}</div>\n        <div className=\"checkout-item-desc\">{description}</div>\n        <div className=\"checkout-item-qty\">\n          QTY <br /> {qty}{\" \"}\n        </div>\n        <div className=\"checkout-item-price\">${price * qty}</div>\n        <button\n          className=\"btn btn-outline-danger checkout-item-delete-btn\"\n          onClick={() => this.handleRemoveItem(_id, price)}\n        >\n          X\n        </button>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { cart } = state.handleItem;\n\n  return { cart };\n};\n\nexport default connect(mapStateToProps, { removeItem })(CheckoutItem);\n","import React, { Component } from \"react\";\nimport { CardElement, injectStripe } from \"react-stripe-elements\";\nimport axios from \"axios\";\nimport backend from \"../../Api/backend\";\n\nclass CheckoutForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { complete: false };\n    this.submit = this.submit.bind(this);\n  }\n\n  async submit(ev) {\n    // user clicked submit\n    const SK_TEST = \"sk_test_59y42s9amXyOuAPudcbNBta500g0JElmda\";\n    const SK_LIVE = process.env.SK_LIVE;\n    let { subTotal } = this.props;\n    let { token } = await this.props.stripe.createToken({ name: \"Name\" });\n    console.log(subTotal);\n    subTotal = Math.round(subTotal);\n    subTotal = JSON.stringify(subTotal);\n\n    let response = await backend(\"/stripe/charge\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"text/plain\",\n        Authorization: `Bearer ${SK_TEST}`,\n        token: token.id,\n        total: subTotal\n      }\n    });\n    if (response.statusText === \"OK\") this.setState({ complete: true });\n  }\n  render() {\n    let { subTotal } = this.props;\n    subTotal = Math.round(subTotal);\n    subTotal = JSON.stringify(subTotal);\n    if (this.state.complete) return <h1>Purchase Complete</h1>;\n    return (\n      <div className=\"checkout\">\n        <p>Would you like to complete the purchase for ${subTotal / 100}? </p>\n        <CardElement />\n        <button onClick={this.submit} class=\"btn btn-outline-success\">\n          Purchase\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default injectStripe(CheckoutForm);\n","import React, { Component } from \"react\";\nimport CheckoutItem from \"./CheckoutItem\";\nimport { Elements, StripeProvider } from \"react-stripe-elements\";\nimport CheckoutForm from \"./CheckoutForm\";\nimport { connect } from \"react-redux\";\nimport { removeItem } from \"../../redux/actions\";\n\nimport \"./cart.css\";\nclass Cart extends Component {\n  state = {\n    isCheckedOut: false,\n    tax: 0,\n    proccessFee: 0,\n    subTotal: 0\n  };\n\n  showCheckoutItems = () => {\n    const { cart } = this.props;\n    const { items, qty } = cart;\n    let cartItems = items.map((item, i) => {\n      return <CheckoutItem {...item} key={i} cartQty={qty} />;\n    });\n    return cartItems;\n  };\n  handleCheckout = value => {\n    const { isCheckedOut } = this.state;\n    this.setState({ isCheckedOut: !isCheckedOut || value });\n  };\n  showCheckoutForm = () => {\n    const { totalCostBeforeTax } = this.props;\n    const PK_TEST = \"pk_test_kUyitnXXbG5Rg8HhhfYhnklR00qMm6iAaZ\";\n    const PK_LIVE = process.env.PK_LIVE;\n    const validTotal = (\n      this.calculateSubTotal(totalCostBeforeTax).subTotal * 100\n    ).toFixed(2);\n    return (\n      <StripeProvider apiKey={PK_TEST}>\n        <div className=\"stripe-container\">\n          <button\n            className=\"outline-danger btn\"\n            onClick={() => this.handleCheckout(false)}\n          >\n            x\n          </button>\n\n          <h1>Confirm</h1>\n          <div className=\"checkout-container\">\n            <Elements>\n              <CheckoutForm subTotal={validTotal} />\n            </Elements>\n          </div>\n        </div>\n      </StripeProvider>\n    );\n  };\n\n  calculateSubTotal = totalCostBeforeTax => {\n    totalCostBeforeTax = Number(totalCostBeforeTax);\n    const taxPercentage = 0.13;\n    let totalWithTax = totalCostBeforeTax * taxPercentage;\n    let proccessFee = totalCostBeforeTax * 0.029 + 0.35;\n    let subTotal = totalCostBeforeTax + totalWithTax + proccessFee;\n\n    const results = {\n      tax: totalWithTax.toFixed(2),\n      proccessFee: proccessFee.toFixed(2),\n      subTotal: subTotal.toFixed(2)\n    };\n    return results;\n  };\n\n  componentDidMount() {}\n\n  render() {\n    const { cart, totalCostBeforeTax, items } = this.props;\n    const { isCheckedOut } = this.state;\n    const total = this.calculateSubTotal(totalCostBeforeTax);\n    const { tax, proccessFee, subTotal } = total;\n\n    return (\n      <div className=\"cart-container\">\n        <h1>Review Order</h1>\n        {cart && this.showCheckoutItems()}\n        <div className=\"checkout-total-container\">\n          <div className=\"checkout-messege\">\n            You have{\" \"}\n            {cart.qty >= 2 ? `${cart.qty} items ` : `${cart.qty} item `}\n            in your cart.\n          </div>\n\n          <span className=\"checkout-label-tax\">Tax:</span>\n          <span className=\"checkout-amount-tax\"> {tax}</span>\n          <div className=\"checkout-label-process-fees\">Process Fee:</div>\n          <span className=\"checkout-amount-fees\">{proccessFee}</span>\n\n          <div className=\"checkout-label-subtotal\">\n            <strong>SubTotal:</strong>\n          </div>\n          <span className=\"checkout-subtotal\">CAD ${subTotal}</span>\n        </div>\n\n        <div\n          className=\"checkout-btn btn btn-success\"\n          onClick={() => this.handleCheckout()}\n        >\n          Proceed to checkout\n        </div>\n        {isCheckedOut && this.showCheckoutForm()}\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  const {\n    cart,\n    cart: { totalCostBeforeTax, items }\n  } = state.handleItem;\n\n  return { cart, totalCostBeforeTax, items };\n};\n\nexport default connect(mapStateToProps, { removeItem })(Cart);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport backend from \"../../Api/backend\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport \"./login.css\";\nimport { connect } from \"react-redux\";\nimport { getCart } from \"../../redux/actions\";\nimport { Redirect } from \"react-router-dom\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      containerClass: !this.props.redirect\n        ? \"register-form-container\"\n        : \"register-form-container login-redirect\",\n      isLoaded: false\n    };\n  }\n  handleInputChange = event => {\n    const { value, name } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n  onSubmit = event => {\n    const { handleLogin, redirect } = this.props;\n    this.setState({ isLoaded: true });\n    event.preventDefault();\n    backend(\"/authenticate/\", {\n      method: \"POST\",\n      data: this.state,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n      .then(res => {\n        const { token, id } = res.data;\n        if (res.status === 200) {\n          Cookies.set(\"token\", token, {\n            expires: 7\n          });\n          Cookies.set(\"id\", id, {\n            expires: 7\n          });\n\n          console.log(\"Cookie: \", Cookies.get());\n\n          handleLogin(res.data.token, res.data.id);\n\n          this.handleGetCart(id);\n\n          this.props.history.push(\"/\");\n        } else {\n          const error = new Error(res.error);\n          throw error;\n        }\n      })\n      .catch(err => {\n        console.log(err);\n        alert(\"Error logging in please try again\");\n        this.setState({ isLoaded: false });\n      });\n  };\n  handleGetCart = async id => {\n    await backend\n      .get(`/carts/find/${id}`)\n      .then(res => {\n        console.log(res, id);\n        this.props.getCart(res.data);\n        this.setState({ isLoaded: true });\n      })\n      .catch(err => {\n        alert(\"Error getting cart\", err);\n      });\n  };\n\n  render() {\n    const { redirect } = this.props;\n    const { containerClass, isLoaded } = this.state;\n    return (\n      <div className={containerClass}>\n        <form className=\"login-form\" onSubmit={this.onSubmit}>\n          <h1>Login Below!</h1>\n          {isLoaded && (\n            <div className=\"d-flex justify-content-center\">\n              <div className=\"spinner-border\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n              </div>\n            </div>\n          )}\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Enter email\"\n            value={this.state.email}\n            onChange={this.handleInputChange}\n            required\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Enter password\"\n            value={this.state.password}\n            onChange={this.handleInputChange}\n            required\n          />\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n        {redirect && (\n          <Link to=\"/signup\" className=\"signup-redirect-btn\">\n            Signup\n          </Link>\n        )}\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  const { totalCostBeforeTax, cart, user } = state.handleItem;\n\n  return { totalCostBeforeTax, cart, user };\n};\n\nexport default connect(mapStateToProps, { getCart })(Login);\n","import React, { Component } from \"react\";\nimport backend from \"../../Api/backend\";\nimport Cookies from \"js-cookie\";\nimport { connect } from \"react-redux\";\nimport { createCart } from \"../../redux/actions\";\nimport axios from \"axios\";\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      isLoaded: false\n    };\n  }\n  handleInputChange = event => {\n    const { value, name } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n  onSubmit = event => {\n    const { handleLogin } = this.props;\n\n    this.setState({ isLoaded: true });\n\n    event.preventDefault();\n    backend(\"/signup\", {\n      method: \"POST\",\n      data: JSON.stringify(this.state),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n      .then(res => {\n        console.log(res.data);\n        if (res.status === 200) {\n          Cookies.set(\"token\", res.data.token, {\n            expires: 7\n          });\n          Cookies.set(\"id\", res.data.userId, {\n            expires: 7\n          });\n          // TODO\n\n          /// USE REDUX TO SET ADDRESS STATE\n          // USE res.data.profile\n\n          handleLogin(res.data.token, res.data.userId);\n          const data = { id: res.data.userId };\n          this.handleCreateCart(data);\n\n          this.props.history.push(\"/\");\n        } else {\n          this.setState({ isLoaded: false });\n          const error = new Error(res.error);\n          throw error;\n        }\n      })\n\n      .catch(err => {\n        console.error(err);\n        this.setState({ isLoaded: false });\n        alert(\"User exists, Please try another username.\");\n      });\n  };\n  handleCreateCart = user => {\n    const data = { user, products: [] };\n\n    backend\n      .post(\"/carts\", data, {})\n      .then(res => {\n        this.props.createCart(res.data);\n        this.setState({ isLoaded: true });\n      })\n      .catch(err => {\n        alert(\"Error creating cart\", err);\n      });\n  };\n  componentWillUnmount() {\n    this.setState({ isLoaded: false });\n  }\n  render() {\n    const { isLoaded } = this.state;\n    return (\n      <div className=\"register-form-container\">\n        <form className=\"login-form\" onSubmit={this.onSubmit}>\n          <h1>Signup!</h1>\n          {isLoaded && (\n            <div className=\"d-flex justify-content-center\">\n              <div className=\"spinner-border\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n              </div>\n            </div>\n          )}\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Enter email\"\n            value={this.state.email}\n            onChange={this.handleInputChange}\n            required\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Enter password\"\n            value={this.state.password}\n            onChange={this.handleInputChange}\n            required\n          />\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  console.log(state);\n  return { item: \"item\" };\n};\n\nexport default connect(mapStateToProps, { createCart })(Signup);\n","class Product {\n  constructor(_id, name, description, price, image, category, qty = 1) {\n    this._id = _id;\n    this.name = name;\n    this.description = description;\n    this.price = price;\n    this.image = image;\n    this.category = category;\n    this.qty = qty;\n  }\n}\nconst products = [];\n\nconst product1 = new Product(\n  \"5e2e3e3d50d8891b1cd5d9e4\",\n  \"Louis Vuitton\",\n  \"Juul Sticker\",\n  \"2.00\",\n  \"https://jaybenaim.github.io/isell/images/img4.jpg\",\n  \"Phone Accesories\"\n);\nconst product2 = new Product(\n  \"5e2e3e6d50d8891b1cd5d9e5\",\n  \"Hello\",\n  \"Juul Sticker\",\n  \"2.00\",\n  \"https://jaybenaim.github.io/isell/images/img5.jpg\",\n  \"Phone Accesories\"\n);\nconst product3 = new Product(\n  \"5e2e3ea050d8891b1cd5d9e6\",\n  \"Marble\",\n  \"Juul Sticker\",\n  \"2.00\",\n  \"https://jaybenaim.github.io/isell/images/img6.jpg\",\n  \"Phone Accesories\"\n);\nconst product4 = new Product(\n  \"5e2e3ef050d8891b1cd5d9e7\",\n  \"Juul Holder\",\n  \"Juul Holder, Sticks to anywhere! Reusable!\",\n  \"2.00\",\n  \"https://jaybenaim.github.io/isell/images/img7.jpg\",\n  \"Phone Accesories\"\n);\nconst product5 = new Product(\n  \"5e2e3f2350d8891b1cd5d9e8\",\n  \"Rick and Morty\",\n  \"Juul Sticker\",\n  \"2.00\",\n  \"https://jaybenaim.github.io/isell/images/img8.jpg\",\n  \"Phone Accesories\"\n);\n\nproducts.push(product1, product2, product3, product4, product5);\n\nexport default products;\n","import React, { Component } from \"react\";\nimport FeaturedProducts from \"./FeaturedProducts\";\nimport products from \"../../Data/products\";\nimport ProductCard from \"./ProductCard\";\nimport \"./products.css\";\nclass Products extends Component {\n  state = {};\n  render() {\n    const { isLoggedIn } = this.props.location.state;\n    const { addToCart } = this.props;\n    let productList = products.map((product, i) => {\n      const { id, image: url } = product;\n      if (product.image === undefined) {\n        return null;\n      } else {\n        return (\n          <ProductCard\n            key={i}\n            {...product}\n            product={product}\n            url={url}\n            productClass={`products-card product-card`}\n            addToCart={addToCart}\n            isLoggedIn={isLoggedIn}\n          />\n        );\n      }\n    });\n    return (\n      <div>\n        <FeaturedProducts addToCart={addToCart} hideDeal={true} />\n        <div className=\"product-container\">{productList}</div>\n      </div>\n    );\n  }\n}\n\nexport default Products;\n","import React, { Component } from \"react\";\nimport backend from \"../../Api/backend\";\nimport products from \"../../Data/products\";\nimport ProductCard from \"./ProductCard\";\n\nimport { connect } from \"react-redux\";\nimport {\n  addItem as addItemToCart,\n  removeItem as removeItemFromCart\n} from \"../../redux/actions\";\nimport \"./productShow.css\";\n\nclass ProductShow extends Component {\n  state = {\n    qty: 1,\n    addToCartButtonText: \"Add to cart\",\n    addToCartButtonDisabled: false\n  };\n  getImageOr404 = (image, name) => {\n    if (image === undefined) {\n      return (\n        <img\n          src={\"https://placehold.it/700x400\"}\n          className=\"card-img-top\"\n          alt=\"none\"\n        />\n      );\n    } else {\n      return <img src={image} className=\"card-img-top\" alt={name} />;\n    }\n  };\n  handleAddProduct = (qtyRef, product) => {\n    const {\n      addItemToCart: addItem,\n      cart: { id, items = [] }\n    } = this.props;\n    const productQty = { qty: qtyRef };\n\n    let itemIds = items.map(item => item._id);\n    itemIds.push(product._id);\n\n    const data = {\n      products: [...itemIds]\n    };\n    if (qtyRef > 1) {\n      // TODO change this method so it doesnt change qty for another user concurrently ordering\n      backend.patch(`/products/${product._id}`, productQty, {}).then(res => {\n        console.log(res.statusText, \"Product updated\");\n      });\n    }\n\n    backend\n      .patch(`/carts/${id}`, data, {})\n      .then(res => {\n        console.log(res.data + \"Item added\");\n        addItem(qtyRef, product);\n      })\n      .catch(err => {\n        alert(\"Error adding item\");\n      });\n\n    this.setState({\n      addToCartButtonText: \"Added to cart\",\n      addToCartButtonDisabled: true\n    });\n  };\n  handleSetQty = event => {\n    let qty = Number(event.target.value);\n    this.setState({ qty: qty });\n  };\n  relatedProducts = () => {\n    const { isLoggedIn, description } = this.props.location.state;\n    const { addToCart } = this.props;\n    const firstWord = description.replace(/ .*/, \"\");\n\n    let productList = products.map((product, i) => {\n      const { image: url } = product;\n      if (product.image === undefined) {\n        return null;\n      } else if (product.description.includes(firstWord)) {\n        return (\n          <ProductCard\n            key={i}\n            {...product}\n            _id={product._id}\n            product={product}\n            url={url}\n            productClass={`products-card product-card`}\n            addToCart={addToCart}\n            isLoggedIn={isLoggedIn}\n          />\n        );\n      }\n    });\n    return productList;\n  };\n  render() {\n    const {\n      name,\n      description,\n      price,\n      image,\n      product\n    } = this.props.location.state;\n    const { addToCartButtonDisabled, addToCartButtonText, qty } = this.state;\n\n    return (\n      <div className=\"container\">\n        <h1 className=\"mt-4 mb-3\">\n          <small> {name}</small>\n        </h1>\n\n        <ol className=\"breadcrumb\">\n          <li className=\"breadcrumb-item\">\n            <a href=\"/isell\">Home</a>\n          </li>\n          <li className=\"breadcrumb-item active\">{name}</li>\n        </ol>\n\n        <div className=\"row\">\n          <div className=\"col-md-8\">{this.getImageOr404(image, name)}</div>\n\n          <div className=\"col-md-4\">\n            <h3 className=\"my-3\">Product Description</h3>\n            <p>{description}</p>\n\n            <h3 className=\"my-3\"> CAD ${price}</h3>\n            <div>\n              <label htmlFor=\"qty-integer\">Qty: </label>\n\n              <input\n                className=\"qty-input\"\n                type=\"number\"\n                name=\"quantity\"\n                min=\"1\"\n                max=\"100\"\n                placeholder=\"1\"\n                ref={this.qtyRef}\n                onChange={this.handleSetQty}\n                disabled={addToCartButtonDisabled}\n              ></input>\n              <button\n                disabled={addToCartButtonDisabled}\n                className=\"add-to-cart-btn \"\n                onClick={() => this.handleAddProduct(qty, product)}\n              >\n                {addToCartButtonText}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <h3 className=\"my-4 related-products-title\">Related Products</h3>\n\n        <div className=\"row\">\n          <div className=\"col-md-3 col-sm-6 mb-4\"></div>\n\n          <div className=\"col-md-3 col-sm-6 mb-4\"></div>\n          {/* TODO RUN PRoducts map from Products.js */}\n          <div className=\"col-md-3 col-sm-6 mb-4\">{this.relatedProducts()}</div>\n\n          <div className=\"col-md-3 col-sm-6 mb-4\"></div>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  const { totalCostBeforeTax, cart, user } = state.handleItem;\n\n  return { totalCostBeforeTax, cart, user };\n};\n\nexport default connect(mapStateToProps, { addItemToCart, removeItemFromCart })(\n  ProductShow\n);\n","import React, { Component } from \"react\";\nimport { Modal, Form, Button } from \"react-bootstrap\";\nimport backend from \"../../Api/backend\";\nimport { connect } from \"react-redux\";\n\nclass AddressForm extends Component {\n  state = {\n    name: \"\",\n    addressType: \"House\",\n    street: \"\",\n    suite: \"\",\n    province: \"ON\",\n    city: \"\",\n    postalCode: \"\",\n    placeholder: \"\"\n  };\n  onSubmit = e => {\n    e.preventDefault();\n    const {\n      handleAddAddress,\n      showAddressForm,\n      user: { id }\n    } = this.props;\n    const data = { shippingInfo: this.state, user: { id } };\n\n    backend(\"/addresses/\", {\n      method: \"POST\",\n      data,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n      .then(res => {\n        console.log(res.data);\n        showAddressForm();\n        handleAddAddress(res.data);\n      })\n      .catch(err => {\n        alert(\"Something went wrong\");\n      });\n  };\n\n  handleInputChange = event => {\n    const { value, name } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  render() {\n    const { showForm, showAddressForm } = this.props;\n    return (\n      <div>\n        <Modal\n          show={showForm}\n          size=\"lg\"\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n        >\n          <Modal.Header>\n            <Modal.Title id=\"contained-modal-title-vcenter\">\n              Shipping Info\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form>\n              <Form.Group controlId=\"formBasicEmail\">\n                <Form.Label>Name</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"John Smith\"\n                  name=\"name\"\n                  onChange={this.handleInputChange}\n                />\n                <Form.Text className=\"text-muted\">Recipient name.</Form.Text>\n              </Form.Group>\n\n              <Form.Group controlId=\"formBasicPassword\">\n                <Form.Label>Street Address</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder={\"222 Example Road\"}\n                  name=\"street\"\n                  onChange={this.handleInputChange}\n                />\n              </Form.Group>\n              <Form.Group controlId=\"exampleForm.ControlSelect1\">\n                <Form.Label>Address Type</Form.Label>\n                <Form.Control\n                  as=\"select\"\n                  name=\"addressType\"\n                  onChange={this.handleInputChange}\n                >\n                  <option>House</option>\n                  <option>Apartment</option>\n                  <option>Business</option>\n                  <option>Hotel</option>\n                  <option>Other</option>\n                </Form.Control>\n              </Form.Group>\n              <Form.Group controlId=\"formBasicPassword\">\n                <Form.Label>Suite/Apt #</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"402\"\n                  name=\"suite\"\n                  onChange={this.handleInputChange}\n                />\n              </Form.Group>\n              <Form.Group controlId=\"exampleForm.ControlSelect1\">\n                <Form.Label>Province</Form.Label>\n                <Form.Control\n                  as=\"select\"\n                  name=\"province\"\n                  onChange={this.handleInputChange}\n                >\n                  <option>AB</option>\n                  <option>BC</option>\n                  <option>MB</option>\n                  <option>NB</option>\n                  <option>NL</option>\n                  <option>NS</option>\n                  <option>ON</option>\n                  <option>PE</option>\n                  <option>QC</option>\n                  <option>SK</option>\n                  <option>NT</option>\n                  <option>NU</option>\n                  <option>YT</option>\n                </Form.Control>\n              </Form.Group>\n\n              <Form.Group controlId=\"formBasicPassword\">\n                <Form.Label>City</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Toronto\"\n                  name=\"city\"\n                  onChange={this.handleInputChange}\n                />\n              </Form.Group>\n\n              <Form.Group controlId=\"formBasicPassword\">\n                <Form.Label>Postal Code</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"X3X 3X3\"\n                  name=\"postalCode\"\n                  onChange={this.handleInputChange}\n                />\n              </Form.Group>\n\n              <Button\n                variant=\"primary\"\n                type=\"submit\"\n                onClick={e => this.onSubmit(e)}\n              >\n                Submit\n              </Button>\n            </Form>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button onClick={() => showAddressForm()}>Close</Button>\n          </Modal.Footer>\n        </Modal>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  let { user } = state.handleItem;\n  return { user };\n};\n\nexport default connect(mapStateToProps, {})(AddressForm);\n","import React, { Component } from \"react\";\nimport { Modal, Form, Button } from \"react-bootstrap\";\nimport backend from \"../../Api/backend\";\nimport { connect } from \"react-redux\";\n\nclass EditAddress extends Component {\n  state = {\n    name: \"\",\n    addressType: \"House\",\n    street: \"\",\n    suite: \"\",\n    province: \"ON\",\n    city: \"\",\n    postalCode: \"\"\n  };\n  onSubmit = e => {\n    e.preventDefault();\n    const {\n      showEditForm,\n      user: { id },\n      profileId,\n      address: { _id }\n    } = this.props;\n    const data = { ...this.state, user: { id } };\n\n    backend(`/addresses/${_id}`, {\n      method: \"PATCH\",\n      data,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n      .then(res => {\n        const {\n          getAddresses,\n          user: { id }\n        } = this.props;\n        getAddresses(id);\n        showEditForm();\n      })\n      .catch(err => {\n        alert(\"Something went wrong\");\n      });\n  };\n\n  handleInputChange = event => {\n    const { value, name } = event.target;\n\n    this.setState({\n      [name]: value\n    });\n  };\n  componentDidMount() {\n    const {\n      address: { addressType, city, name, postalCode, province, street, suite }\n    } = this.props;\n\n    this.setState({\n      addressType,\n      city,\n      name,\n      postalCode,\n      province,\n      street,\n      suite\n    });\n  }\n  render() {\n    const { showEditForm, showForm, address } = this.props;\n\n    return (\n      <div>\n        <Modal\n          show={showForm}\n          size=\"lg\"\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n        >\n          <Modal.Header>\n            <Modal.Title id=\"contained-modal-title-vcenter\">\n              Shipping Info\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form>\n              <Form.Group controlId=\"formBasicEmail\">\n                <Form.Label>Name</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder={address[\"name\"]}\n                  name=\"name\"\n                  onChange={this.handleInputChange}\n                />\n                <Form.Text className=\"text-muted\">Recipient name.</Form.Text>\n              </Form.Group>\n\n              <Form.Group controlId=\"formBasicPassword\">\n                <Form.Label>Street </Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder={address[\"street\"]}\n                  name=\"street\"\n                  onChange={this.handleInputChange}\n                />\n              </Form.Group>\n              <Form.Group controlId=\"exampleForm.ControlSelect1\">\n                <Form.Label>Address Type</Form.Label>\n                <Form.Control\n                  as=\"select\"\n                  name=\"addressType\"\n                  onChange={this.handleInputChange}\n                >\n                  <option>House</option>\n                  <option>Apartment</option>\n                  <option>Business</option>\n                  <option>Hotel</option>\n                  <option>Other</option>\n                </Form.Control>\n              </Form.Group>\n              <Form.Group controlId=\"formBasicPassword\">\n                <Form.Label>Suite/Apt #</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder={address[\"suite\"]}\n                  name=\"suite\"\n                  onChange={this.handleInputChange}\n                />\n              </Form.Group>\n              <Form.Group controlId=\"exampleForm.ControlSelect1\">\n                <Form.Label>Province</Form.Label>\n                <Form.Control\n                  as=\"select\"\n                  name=\"province\"\n                  value={address[\"province\"]}\n                  onChange={this.handleInputChange}\n                >\n                  <option>AB</option>\n                  <option>BC</option>\n                  <option>MB</option>\n                  <option>NB</option>\n                  <option>NL</option>\n                  <option>NS</option>\n                  <option>ON</option>\n                  <option>PE</option>\n                  <option>QC</option>\n                  <option>SK</option>\n                  <option>NT</option>\n                  <option>NU</option>\n                  <option>YT</option>\n                </Form.Control>\n              </Form.Group>\n\n              <Form.Group controlId=\"formBasicPassword\">\n                <Form.Label>City</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder={address[\"city\"]}\n                  name=\"city\"\n                  onChange={this.handleInputChange}\n                />\n              </Form.Group>\n\n              <Form.Group controlId=\"formBasicPassword\">\n                <Form.Label>Postal Code</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder={address[\"postalCode\"]}\n                  name=\"postalCode\"\n                  onChange={this.handleInputChange}\n                />\n              </Form.Group>\n\n              <Button\n                variant=\"primary\"\n                type=\"submit\"\n                onClick={e => this.onSubmit(e)}\n              >\n                Submit\n              </Button>\n            </Form>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button onClick={() => showEditForm()}>Close</Button>\n          </Modal.Footer>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  let { user } = state.handleItem;\n  return { user };\n};\n\nexport default connect(mapStateToProps, {})(EditAddress);\n","import React, { Component } from \"react\";\nimport AddressForm from \"./AddressForm\";\nimport backend from \"../../Api/backend\";\nimport { connect } from \"react-redux\";\nimport { getProfile } from \"../../redux/actions\";\nimport EditAddress from \"./EditAddress\";\nimport \"./address.css\";\nclass Address extends Component {\n  state = {\n    showAddressForm: false,\n    showEditForm: false,\n    newData: \"\",\n    addresses: [],\n    editKey: \"\",\n    showConfirmDeleteMessage: false,\n    confirmText: \"\",\n    id: \"\"\n  };\n\n  showAddressForm = () => {\n    const { showAddressForm } = this.state;\n    this.setState({ showAddressForm: !showAddressForm });\n  };\n  handleAddAddress = data => {\n    this.showAddress(data);\n  };\n  showEditForm = i => {\n    const { showEditForm } = this.state;\n    this.setState({ showEditForm: !showEditForm, editKey: i });\n  };\n  editInfo = i => {\n    this.showEditForm(i);\n  };\n  showConfirmMessage = id => {\n    const { showConfirmDeleteMessage } = this.state;\n    this.setState({ showConfirmDeleteMessage: !showConfirmDeleteMessage, id });\n  };\n  deleteAddress = e => {\n    e.preventDefault();\n    const { confirmText, id } = this.state;\n    confirmText === \"yes\" && this.deleteInfo(id);\n  };\n  handleConfirmChange = e => {\n    e.preventDefault();\n    this.setState({ confirmText: e.target.value.toLowerCase() });\n  };\n  handleDelete = id => {\n    this.showConfirmMessage(id);\n  };\n  deleteInfo = id => {\n    backend\n      .delete(`addresses/${id}`)\n      .then(res => {\n        this.getProfile();\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n  showAddresses = data => {\n    const { addresses, vb } = this.state;\n    if (addresses.length > 0) {\n      return addresses.map((address, i) => {\n        let {\n          name,\n          addressType,\n          street,\n          suite,\n          province,\n          city,\n          postalCode\n        } = address;\n\n        return (\n          <div className=\"shipping-address\" key={i}>\n            <br />\n            <p>\n              Name: {name || \"N/A\"}\n              &nbsp; &nbsp;{\" \"}\n            </p>\n            <p>Address Type: {addressType || \"N/A\"}</p>\n            <p>Street: {street || \"N/A\"}</p>\n            <p>Suite/Apt: {suite || \"N/A\"}</p>\n            <p>Province: {province || \"N/A\"}</p>\n            <p>City: {city || \"N/A\"}</p>\n            <p>Postal Code: {postalCode || \"N/A\"}</p>\n            <span onClick={() => this.editInfo(i)}>Edit</span>\n            <span\n              onClick={() => this.handleDelete(address._id)}\n              className=\"delete-address\"\n            >\n              Delete\n            </span>\n            <hr />\n          </div>\n        );\n      });\n    }\n    return addresses;\n  };\n  getAddresses = id => {\n    backend(`/addresses/find/${id}`, {\n      method: \"GET\"\n    }).then(res => {\n      this.setState({ addresses: res.data[0] });\n    });\n  };\n  getProfile = () => {\n    const {\n      user: { id }\n    } = this.props;\n    backend(`/profiles/find/${id}`, {\n      method: \"GET\"\n    })\n      .then(res => {\n        this.getAddresses(id);\n        this.props.getProfile(res.data);\n        const { shippingInfo } = this.props.profile;\n        setTimeout(() => {\n          this.setState({\n            profileId: res.data._id\n          });\n        }, 500);\n      })\n      .catch(err => {\n        alert(\"Something went wrong\");\n      });\n  };\n  componentDidMount = () => {\n    this.getProfile();\n  };\n  render() {\n    const {\n      showAddressForm,\n      showEditForm,\n      addresses,\n      editKey,\n      profileId,\n      showConfirmDeleteMessage\n    } = this.state;\n\n    return (\n      <div>\n        <h4>Shipping Address</h4>\n        {showConfirmDeleteMessage && (\n          <form>\n            <div className=\"form-group\">\n              <label>Confirm Delete?</label>\n              <input\n                type=\"text\"\n                name=\"confirm\"\n                placeholder=\"yes\"\n                autofocus\n                className=\"form-control confirm-address-delete\"\n                onChange={e => this.handleConfirmChange(e)}\n              ></input>\n              <input\n                type=\"submit\"\n                value=\"Delete\"\n                onClick={e => this.deleteAddress(e)}\n              ></input>\n            </div>\n          </form>\n        )}\n        {this.showAddresses()}\n\n        <button\n          className=\"add-address-btn\"\n          onClick={() => this.showAddressForm()}\n        >\n          <img\n            src=\"https://img.icons8.com/ios/50/000000/plus.png\"\n            alt=\"add address\"\n            className=\"add-address-icon\"\n          />\n          Add an address\n        </button>\n        {showAddressForm && (\n          <AddressForm\n            showForm={showAddressForm}\n            showAddressForm={this.showAddressForm}\n            handleAddAddress={this.handleAddAddress}\n          />\n        )}\n        {showEditForm && (\n          <EditAddress\n            showForm={showEditForm}\n            address={{ ...addresses[editKey] }}\n            showEditForm={this.showEditForm}\n            profileId={profileId}\n            getAddresses={this.getAddresses}\n          />\n        )}\n\n        <a href=\"https://icons8.com/icon/1501/plus\"></a>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  let { user } = state.handleItem;\n  let { profile } = state.handleProfile;\n  return { user, profile };\n};\n\nexport default connect(mapStateToProps, { getProfile })(Address);\n","import React, { Component } from \"react\";\nimport Address from \"./Address\";\nimport \"./account.css\";\nclass Account extends Component {\n  state = {\n    showOrders: false,\n    showAddress: false\n  };\n  show = itemToShow => {\n    const { showOrders, showAddress } = this.state;\n    if (itemToShow === \"orders\") {\n      this.setState({ showOrders: !showOrders });\n    }\n    if (itemToShow === \"address\") {\n      this.setState({ showAddress: !showAddress });\n    }\n    if (itemToShow === \"orders\") {\n      this.setState({ showOrders: !showOrders });\n    }\n  };\n  render() {\n    const { showOrders, showAddress } = this.state;\n    return (\n      <div className=\"account-page\">\n        <div className=\"account-orders\" onClick={() => this.show(\"orders\")}>\n          Orders\n        </div>\n        {showOrders && (\n          <div className=\"account-orders-items\">\n            <strong>No Orders Yet.</strong>\n          </div>\n        )}\n        <div className=\"account-address\" onClick={() => this.show(\"address\")}>\n          Address\n        </div>\n        {showAddress && (\n          <div className=\"account-address-items\">\n            <Address />{\" \"}\n          </div>\n        )}\n        {/* // TODO // */}\n        {/* <div className=\"account-settings\">Settings</div>\n        {showSettings && <div className=\"account-settings-items\"></div>} */}\n      </div>\n    );\n  }\n}\n\nexport default Account;\n","import React, { useState } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Login from \"../Register/Login\";\nimport \"./protectedRoute.css\";\n\nfunction PrivateRoute({\n  isLoggedIn,\n  handleLogin,\n  children: Component,\n  ...rest\n}) {\n  const [showAlert, setShowAlert] = useState(true);\n  if (isLoggedIn === undefined) {\n    isLoggedIn = false;\n  }\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        isLoggedIn ? (\n          Component\n        ) : showAlert ? (\n          <>\n            <div className=\"alert alert-danger login-alert\" role=\"alert\">\n              Please login first!\n              <button\n                className=\"btn-success alert-close-btn\"\n                onClick={() => setShowAlert(false)}\n              >\n                X\n              </button>\n            </div>\n          </>\n        ) : (\n          <Login redirect={true} handleLogin={handleLogin} />\n        )\n      }\n    />\n  );\n}\nexport default PrivateRoute;\n\n/// create component with alert message to login\n","import React, { Component } from \"react\";\nclass ProfileForm extends Component {\n  state = {};\n  render() {\n    return <form>form for profile</form>;\n  }\n}\n\nexport default ProfileForm;\n","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\nimport Home from \"../Home/Home\";\nimport Nav from \"../Nav/Nav\";\nimport Cart from \"../Cart/Cart\";\nimport Login from \"../Register/Login\";\nimport Signup from \"../Register/Signup\";\nimport Products from \"../Products/Products\";\nimport ProductShow from \"../Products/ProductShow\";\nimport Account from \"../Account/Account\";\nimport ProtectedRoute from \"../Register/ProtectedRoute\";\nimport ProfileForm from \"../Profile/ProfileForm\";\nimport backend from \"../../Api/backend\";\nimport { createCart, getCart } from \"../../redux/actions\";\nimport { connect } from \"react-redux\";\nimport Cookies from \"js-cookie\";\nimport \"./App.css\";\n\nconst history = createBrowserHistory();\n\nclass App extends Component {\n  state = {\n    selectedProduct: null,\n    addedToCart: false,\n    valid: false,\n    showAlert: false,\n    y: 0\n  };\n\n  setSelectedProduct = product => {\n    this.setState({ selectProduct: product });\n  };\n  toggleAlert = () => {\n    const { showAlert } = this.state;\n    this.setState({ showAlert: !showAlert });\n  };\n  handleLogin = (token, id) => {\n    this.getCart(id);\n    if (!id) this.forceUpdate();\n  };\n  getCart = async id => {\n    const {\n      user: { id: userId }\n    } = this.props;\n    if (id === null) {\n      alert(\"Please sign in\");\n    } else if (userId) {\n      await backend\n        .get(`/carts/find/${userId}`)\n        .then(res => {\n          this.props.getCart(res.data);\n          console.log(res.data);\n        })\n        .catch(err => {\n          console.log(err);\n          alert(\"Error getting cart\", err);\n        });\n    }\n  };\n  componentDidMount() {\n    const id = Cookies.get(\"id\");\n    id && this.getCart(id);\n  }\n\n  render() {\n    const { showAlert } = this.state;\n    let {\n      user: { id: userId }\n    } = this.props;\n    let isLoggedIn = !userId ? false : true;\n\n    return (\n      <Router basename=\"/isell\" history={history}>\n        <div className=\"App\">\n          <Nav isLoggedIn={isLoggedIn} handleLogin={this.handleLogin} />\n\n          {showAlert && (\n            <div className=\"alert alert-danger\" role=\"alert\">\n              <button\n                className=\"btn-danger alert-close-btn\"\n                onClick={() => this.toggleAlert()}\n              >\n                X\n              </button>\n              <br />\n              YOU ALREADY ADDED THIS ITEM TO YOUR CART!\n              <br />\n              <em>Check your cart for multiples</em>\n              <br />\n            </div>\n          )}\n          {/* <Link to={{ pathname: \"/profiles/new\", state: { text: \"hello\" } }}>\n            NEW PROFILE\n          </Link> */}\n\n          <div className=\"content\">\n            <Switch>\n              <Route exact path=\"/\">\n                {/* grab add from redux in home */}\n                <Home isLoggedIn={isLoggedIn} />\n              </Route>\n              <Route\n                exact\n                path=\"/login\"\n                render={props => (\n                  <Login {...props} handleLogin={this.handleLogin} />\n                )}\n              />\n              <Route\n                exact\n                path=\"/signup\"\n                render={props => (\n                  <Signup {...props} handleLogin={this.handleLogin} />\n                )}\n              />\n\n              <Route\n                exact\n                path=\"/Products\"\n                render={props => (\n                  <Products\n                    {...props}\n                    removeFromCart={this.removeFromCart}\n                    selectProduct={this.setSelectedProduct}\n                  />\n                )}\n              />\n\n              <Route\n                exact\n                path=\"/products/:id/show\"\n                render={props => <ProductShow {...props} />}\n              />\n\n              <ProtectedRoute path=\"/cart\" isLoggedIn={isLoggedIn}>\n                <Route\n                  exact\n                  path=\"/cart\"\n                  render={props => (\n                    <Cart\n                      {...props}\n                      timestamp={new Date().toString()}\n                      // cart={cart}\n                    />\n                  )}\n                />\n              </ProtectedRoute>\n              <ProtectedRoute path=\"/profiles/new\" isLoggedIn={isLoggedIn}>\n                <Route\n                  exact\n                  path=\"/profiles/new\"\n                  render={props => <ProfileForm {...props} />}\n                />\n              </ProtectedRoute>\n              <ProtectedRoute\n                path=\"/account\"\n                isLoggedIn={isLoggedIn}\n                handleLogin={this.handleLogin}\n              >\n                <Route\n                  exact\n                  path=\"/account\"\n                  render={props => <Account {...props} />}\n                />\n              </ProtectedRoute>\n            </Switch>\n          </div>\n          {/* <!-- Footer --> */}\n          <footer className=\"py-5 bg-dark\">\n            <div className=\"container\">\n              <p className=\"m-0 text-center text-white\">\n                Copyright &copy; Jacob Benaim 2019 <br /> NOT A REAL ECOMMERCE\n                SITE DO NOT TRY TO PURCHASE <br />\n                <a href=\"https://icons8.com/icon/O0098eRiFjhT/shopping-cart-promotion\">\n                  Shopping Cart Promotion icon by Icons8\n                </a>\n              </p>\n            </div>\n            {/* <!-- /.container --> */}\n          </footer>\n        </div>\n      </Router>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  let { cart, user } = state.handleItem;\n  user.id = Cookies.get(\"id\") || undefined;\n  return { cart, user };\n};\n\nexport default connect(mapStateToProps, { createCart, getCart })(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}