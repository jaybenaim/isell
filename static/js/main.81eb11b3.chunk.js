(this.webpackJsonpisell=this.webpackJsonpisell||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),l=a(11),s=a(29),i=a(57),u=a(22),d=function(e){var t=0;return e?(e.map((function(e){return t+=Number(e.price*e.qty)})),t):t},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cart:{items:[],qty:0,id:null,totalCostBeforeTax:0},user:{id:null,profile:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEM":var a=t.payload,n=a.item,r=a.qty,c=n.id,o=e.cart,l=o.items,s=(o.qty,o.id);n.qty=r;var i=[].concat(Object(u.a)(l.filter((function(e){return e._id!==c?e:null}))),[n]),m=d(i),p=i?i.length:0;return Object.assign({},e,{cart:{items:i,qty:p,id:s,totalCostBeforeTax:m.toFixed(2)}});case"REMOVE_ITEM":var h=t.payload.products,E=e.cart.id;console.log(t);var g=d(h),b=h?h.length:0;return Object.assign({},e,{cart:{items:h,id:E,totalCostBeforeTax:g.toFixed(2),qty:b}});case"CREATE_CART":var f=t.data;console.log(f);var v=f._id,C=f.user.id;return Object.assign({},e,{user:{id:C},cart:{items:[],qty:0,id:v,totalCostBeforeTax:0}});case"GET_CART":console.log(t);var y=t.cart,O=y.products,j=y._id,N=(y.createdAt,t.user),w=d(O),k=O?O.length:0;return Object.assign({},e,{user:N,cart:{items:O,qty:k,id:j,totalCostBeforeTax:w.toFixed(2)}});default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{profile:{shippingInfo:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROFILE":var a=t.payload.profile;return Object.assign({},e,{profile:a});default:return e}},h=Object(s.c)({handleItem:m,handleProfile:p}),E=a(58),g=function(e){return{type:"GET_CART",cart:{_id:e._id,products:e.products},user:e.user}},b=function(e){return{type:"CREATE_CART",data:e}},f=function(e,t){return{type:"ADD_ITEM",payload:{qty:e,item:t}}},v=function(e){return{type:"REMOVE_ITEM",payload:{products:e.products}}},C=Object(E.createLogger)(),y=Object(s.d)(h,Object(s.a)(i.a,C)),O=(a(75),a(23)),j=a.n(O),N=a(4),w=a(5),k=a(7),I=a(6),A=a(8),T=a(12),S=a(27),x=a(14),L=function e(t,a,n,r,c,o){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;Object(N.a)(this,e),this._id=t,this.name=a,this.description=n,this.price=r,this.image=c,this.category=o,this.qty=l},P=[],F=new L("5e2e3d8d50d8891b1cd5d9e1","Gucci Sticker","Juul Sticker","2.53","https://jaybenaim.github.io/isell/images/img1.jpg","TEST"),B=new L("5e2e3dde50d8891b1cd5d9e2","Rick and Morty","Juul Sticker","2.00","https://jaybenaim.github.io/isell/images/img2.jpg","Phone Accesories"),D=new L("5e2e3e1450d8891b1cd5d9e3","Supreme","Juul Sticker","2.00","https://jaybenaim.github.io/isell/images/img3.jpg","Phone Accesories");P.push(F,B,D);var _=P,q=a(28),R=a.n(q),M=R.a.create({baseURL:"https://isellapi.herokuapp.com/api"}),G=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(c)))).state={isLoaded:!1,showDesc:!1,qty:1,addToCartButtonText:"Add to cart",addToCartButtonDisabled:!1},a.shortDescription=function(e){return e.length<=15?e:e.slice(0,15)+"..."},a.showDescription=function(){var e=a.state.showDesc;a.setState({showDesc:!e})},a.handleSetQty=function(e){var t=Number(e.target.value);a.setState({qty:t})},a.getImageURl=function(){var e=a.props,t=e.image,n=e.name;return void 0===t?r.a.createElement("img",{src:"https://placehold.it/700x400",className:"card-img-top",alt:n}):r.a.createElement("img",{src:t,className:"card-img-top",alt:"none"})},a.handleAddProduct=function(e,t){var n=a.props,r=n.addItemToCart,c=n.cart,o=c.id,l=c.items,s={qty:e},i=l.map((function(e){return e._id}));i.push(t._id);var d={products:Object(u.a)(i)};e>1&&M.patch("/products/".concat(t._id),s,{}).then((function(e){console.log(e.statusText,"Product updated")})),M.patch("/carts/".concat(o),d,{}).then((function(a){console.log(a.data+"Item added"),r(e,t)})).catch((function(e){alert("Error adding item")})),a.setState({addToCartButtonText:"Added to cart",addToCartButtonDisabled:!0})},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.setState({image:!0})}},{key:"render",value:function(){var e=this,t=this.state.showDesc,a=this.props,n=a._id,c=a.name,o=a.description,l=a.price,s=a.productClass,i=a.product,u=a.image,d=a.isLoggedIn;return c=c.replace(/^\w/,(function(e){return e.toUpperCase()})),o=o.replace(/^\w/,(function(e){return e.toUpperCase()})),!u&&(u=i.image),r.a.createElement("div",{className:"".concat(s," card")},this.getImageURl(),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},c),r.a.createElement("p",{className:"card-text",onClick:function(){return e.showDescription()}},t?o:this.shortDescription(o)),r.a.createElement("br",null),r.a.createElement(T.b,{to:{pathname:"/products/".concat(n,"/show"),state:{_id:n,name:c,description:o,price:l,image:u,isLoggedIn:d,product:i}},className:"btn btn-primary show-product-btn"},r.a.createElement("span",null,"CAD $",l))))}}]),t}(n.Component),H=Object(l.b)((function(e){var t=e.handleItem;return{totalCostBeforeTax:t.totalCostBeforeTax,cart:t.cart,user:t.user}}),{addItemToCart:f,removeItemFromCart:v})(G),U=(a(96),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.addToCart,a=e.isLoggedIn,n=e.hideDeal;return r.a.createElement("div",{className:"featured-products-container"},r.a.createElement("div",{className:"card text-center"},!n&&r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},"Featured Products"),r.a.createElement("p",{className:"card-text"},"Take an additional 10% when using the code"," ",r.a.createElement("span",{className:"text-secondary"},"FREESTUFF "),r.a.createElement("br",null))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"featured-products-grid"},r.a.createElement("div",{className:"card-1"},r.a.createElement(H,Object.assign({},_[0],{product:_[0],productClass:"product-card-1 product-card",addToCart:t,isLoggedIn:a}))),r.a.createElement("hr",null),r.a.createElement("div",{className:"card-2"},r.a.createElement(H,Object.assign({},_[1],{product:_[1],productClass:"product-card-2 product-card",addToCart:t,isLoggedIn:a}))),r.a.createElement("hr",null),r.a.createElement("div",{className:"card-3"},r.a.createElement(H,Object.assign({},_[2],{product:_[2],productClass:"product-card-3 product-card",addToCart:t,isLoggedIn:a}))))),n?r.a.createElement("div",{className:"card-footer text-muted"},"2 days ago"):r.a.createElement("div",{className:"card-footer text-muted"},"All Products")))}}]),t}(n.Component)),J=(a(97),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.addToCart,a=e.isLoggedIn;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement("div",{id:"home-carousel",className:"carousel slide","data-ride":"carousel"},r.a.createElement("ol",{className:"carousel-indicators"},r.a.createElement("li",{"data-target":"#home-carousel","data-slide-to":"0",className:"active"}),r.a.createElement("li",{"data-target":"#home-carousel","data-slide-to":"1"}),r.a.createElement("li",{"data-target":"#home-carousel","data-slide-to":"2"})),r.a.createElement("div",{className:"carousel-inner",role:"listbox"},r.a.createElement("div",{className:"carousel-item active carousel-item-1",style:{backgroundImage:'url("https://placehold.it/1900x1080")'}},r.a.createElement("div",{className:"carousel-caption d-none d-md-block"},r.a.createElement("h3",null,"50% OFF"),r.a.createElement("p",{className:"discount"},"Use code SALETIME for 50% off"))),r.a.createElement("div",{className:"carousel-item carousel-item-2",style:{backgroundImage:'url("https://placehold.it/1900x1080")'}},r.a.createElement("div",{className:"carousel-caption d-none d-md-block"},r.a.createElement("h3",null,"Got a Product?"),r.a.createElement("p",null,"Let us help you get is sold for top dollar"))),r.a.createElement("div",{className:"carousel-item carousel-item-3",style:{backgroundImage:'url("https://placehold.it/1900x1080")'}},r.a.createElement("div",{className:"carousel-caption d-none d-md-block"},r.a.createElement("h3",null,"Local Products"),r.a.createElement("p",null,"All sellers are in your current area")))),r.a.createElement("a",{className:"carousel-control-prev",href:"#home-carousel",role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#home-carousel",role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next")))),r.a.createElement("div",null,r.a.createElement(U,{addToCart:t,isLoggedIn:a})))}}]),t}(n.Component)),Y=a(121),X=a(123),K=(a(98),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={},a.shortDescription=function(e){return e?e.length<=15?e:e.slice(0,15)+"...":""},a.handleRemoveItem=function(e,t){var n=a.props,r=n.removeItem,c=n.cart,o=c.items,l=c.id,s=n.item.qty,i=o.filter((function(t){return t._id!==e})).map((function(e){return e._id})),d={products:Object(u.a)(i)};s>1&&M.patch("/products/".concat(e),{qty:1},{}).then((function(e){console.log(e.statusText,"Product updated")})),M.patch("/carts/".concat(l),d,{}).then((function(e){console.log(e.data,"Item removed"),r(e.data)})).catch((function(e){alert("Error removing item")}))},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.error,n=t.item,c=t.hideModal,o=n._id,l=n.name,s=n.price,i=n.description,u=n.image,d=n.qty;return r.a.createElement(r.a.Fragment,null,a?r.a.createElement("div",{style:{display:"flex",justifyContent:"center",fontSize:"2.6em"}},a):r.a.createElement("div",{className:"modal-cart-item-container"},r.a.createElement(T.b,{to:{pathname:"/products/".concat(o,"/show"),state:{item:n}},className:"modal-link-to-product-show",onClick:function(){return c()}},r.a.createElement("img",{src:u,alt:l,className:"modal-cart-image"})),r.a.createElement("span",{className:"modal-cart-name"},l),r.a.createElement("span",{className:"modal-cart-short-desc"},this.shortDescription(i)),r.a.createElement("span",{className:"modal-cart-price"},"CAD ",r.a.createElement("strong",null,"$",s*d)," "),r.a.createElement("span",{className:"modal-cart-qty"},"QTY ",d," @ $",s),r.a.createElement("button",{className:"modal-cart-remove-item btn btn-outline-danger",onClick:function(){return e.handleRemoveItem(o,s)}},"Remove Item")))}}]),t}(n.Component)),Q=Object(l.b)((function(e){return{cart:e.handleItem.cart}}),{removeItem:v})(K),$=(a(99),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(c)))).state={},a.showCartItems=function(){var e=a.props.cart,t=e.qty,n=e.items;return t>=1?n.map((function(e,t){return r.a.createElement(Q,{item:e,key:t,hideModal:a.checkout})})):r.a.createElement(Q,{item:{name:null,price:null,description:null,image:null},error:"Your cart is empty"})},a.checkout=function(){(0,a.props.onHide)()},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=(t.cart,t.onHide),n=t.cart.totalCostBeforeTax;t.removeFromCart;return r.a.createElement(Y.a,Object.assign({},t,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(Y.a.Header,null,r.a.createElement(Y.a.Title,{id:"contained-modal-title-vcenter"},"Your Cart"),r.a.createElement(X.a,{onClick:a,variant:"outline-danger"},"X")),r.a.createElement(Y.a.Body,null,this.showCartItems()),r.a.createElement(Y.a.Footer,null,r.a.createElement(T.b,{className:"nav-link btn-success proceed-to-checkout-btn",onClick:function(){return e.checkout()},to:{pathname:"/cart"}},"Proceed to checkout",r.a.createElement("br",null),r.a.createElement("span",{className:"proceed-to-checkout-total"},"Total: $",n))))}}]),t}(n.Component)),V=Object(l.b)((function(e){return{cart:e.handleItem.cart}}),{})($),z=a(16),W=a.n(z),Z=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleLogout=function(){var e=a.props.handleLogin;W.a.remove("token"),W.a.remove("id"),e()},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"logout-btn",onClick:function(){return e.handleLogout()}},"Logout"),r.a.createElement("br",null))}}]),t}(n.Component),ee=(a(100),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoggedIn,a=e.handleLogin;return r.a.createElement("div",{className:"auth"},t?r.a.createElement("div",null,r.a.createElement(Z,{handleLogin:a})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"login-btn"},r.a.createElement(T.b,{to:"/login"},"Login")),r.a.createElement("div",{className:"signup-btn"},r.a.createElement(T.b,{to:"/signup"},"Signup")))))}}]),t}(n.Component)),te=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.showAccountClass,a=e.showAccountMenu;return r.a.createElement("div",{className:"account-link-container",onMouseLeave:function(){return a("none")}},r.a.createElement("ul",{className:t},r.a.createElement(T.b,{to:"/account"},r.a.createElement("li",{onClick:function(){return a("none")}},"Your Account")),r.a.createElement(T.b,{to:"/cart"},r.a.createElement("li",{onClick:function(){return a("none")}},"Your Cart",r.a.createElement("img",{src:"https://img.icons8.com/doodle/48/000000/shopping-cart--v1.png"})))),"account-link-mobile"===t&&r.a.createElement("div",{className:"account-hover-close",onClick:function(){return a("none")}},"Hide"),r.a.createElement("a",{href:"https://icons8.com/icon/80857/shopping-cart"}))}}]),t}(n.Component),ae=(a(101),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={showAccountClass:"account-link"},a.showAccountMenu=function(e){"mobile"===e?a.setState({showAccountClass:"account-link-mobile"}):"show"===e?a.setState({showAccountClass:"account-link-show"}):a.setState({showAccountClass:"account-link"})},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.state.showAccountClass;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onMouseEnter:function(){return e.showAccountMenu("show")},onClick:function(){return e.showAccountMenu("mobile")}},"Account"),r.a.createElement(te,{showAccountClass:t,showAccountMenu:this.showAccountMenu}))}}]),t}(n.Component)),ne=(a(102),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={showCart:!1,expanded:!1},a.handleShowCart=function(e){var t=a.state.showCart;a.setState({showCart:!t})},a.handleToggler=function(){var e=a.state.expanded;a.setState({expanded:!e})},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.isLoggedIn,n=t.handleLogin,c=t.cart.qty,o=this.state,l=o.showCart,s=o.expanded;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"/isell"},"Isell"),r.a.createElement("button",{className:s?"cart-btn cart-btn-1 btn cart-btn-expanded":"cart-btn cart-btn-1 btn",onClick:function(){return e.handleShowCart()}},r.a.createElement("img",{src:"https://img.icons8.com/plasticine/100/000000/shopping-cart-promotion.png",alt:"shopping-cart icon",className:"cart-icon"}),"\xa0 ",r.a.createElement("span",{className:"cart-qty-icon"},c)),l&&r.a.createElement(V,{onHide:function(){return e.handleShowCart()},show:l}),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(){return e.handleToggler()}},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item active","data-toggle":"collapse","data-target":"#navbarNavDropdown"},r.a.createElement(T.b,{className:"nav-link products-nav-link",to:{pathname:"/Products",state:{isLoggedIn:a}}},"Products")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(ae,null)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(ee,{isLoggedIn:a,handleLogin:n})),r.a.createElement("li",{"data-toggle":"collapse","data-target":"#navbarNavDropdown"},r.a.createElement("button",{className:"cart-btn btn cart-btn-2",onClick:function(){return e.handleShowCart()}},"Cart \xa0 ",r.a.createElement("span",null,c)))))))}}]),t}(n.Component)),re=Object(l.b)((function(e,t){return{cart:e.handleItem.cart}}),{})(ne),ce=(a(103),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleRemoveItem=function(e,t){var n=a.props,r=n.removeItem,c=n.cart,o=c.items,l=c.id,s=n.qty,i=o.filter((function(t){return t._id!==e})).map((function(e){return e._id})),d={products:Object(u.a)(i)};s>1&&M.patch("/products/".concat(e),{qty:1},{}).then((function(e){console.log(e.statusText,"Product updated")})),M.patch("/carts/".concat(l),d,{}).then((function(e){console.log(e.data,"Item removed"),r(e.data)})).catch((function(e){alert("Error removing item")}))},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t._id,n=t.name,c=t.description,o=t.price,l=t.image,s=t.qty;t.removeItem;return r.a.createElement("div",{className:"checkout-item"},r.a.createElement("img",{className:"checkout-item-image",src:l,alt:n}),r.a.createElement("div",{className:"checkout-item-name"}," ",n),r.a.createElement("div",{className:"checkout-item-desc"},c),r.a.createElement("div",{className:"checkout-item-qty"},"QTY ",r.a.createElement("br",null)," ",s," "),r.a.createElement("div",{className:"checkout-item-price"},"$",o*s),r.a.createElement("button",{className:"btn btn-outline-danger checkout-item-delete-btn",onClick:function(){return e.handleRemoveItem(a,o)}},"X"))}}]),t}(n.Component)),oe=Object(l.b)((function(e){return{cart:e.handleItem.cart}}),{removeItem:v})(ce),le=a(32),se=a(26),ie=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(k.a)(this,Object(I.a)(t).call(this,e))).state={complete:!1},a.submit=a.submit.bind(Object(se.a)(a)),a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"submit",value:function(e){var t,a,n,r;return j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return t="sk_test_59y42s9amXyOuAPudcbNBta500g0JElmda",Object({NODE_ENV:"production",PUBLIC_URL:"."}).SK_LIVE,a=this.props.subTotal,e.next=5,j.a.awrap(this.props.stripe.createToken({name:"Name"}));case 5:return n=e.sent,r=n.token,console.log(a),a=Math.round(a),a=JSON.stringify(a),e.next=12,j.a.awrap(M("/stripe/charge",{method:"POST",headers:{"Content-Type":"text/plain",Authorization:"Bearer ".concat(t),token:r.id,total:a}}));case 12:"OK"===e.sent.statusText&&this.setState({complete:!0});case 14:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props.subTotal;return e=Math.round(e),e=JSON.stringify(e),this.state.complete?r.a.createElement("h1",null,"Purchase Complete"):r.a.createElement("div",{className:"checkout"},r.a.createElement("p",null,"Would you like to complete the purchase for $",e/100,"? "),r.a.createElement(le.CardElement,null),r.a.createElement("button",{onClick:this.submit,class:"btn btn-outline-success"},"Purchase"))}}]),t}(n.Component),ue=Object(le.injectStripe)(ie),de=(a(109),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(c)))).state={isCheckedOut:!1,tax:0,proccessFee:0,subTotal:0},a.showCheckoutItems=function(){var e=a.props.cart,t=e.items,n=e.qty;return t.map((function(e,t){return r.a.createElement(oe,Object.assign({},e,{key:t,cartQty:n}))}))},a.handleCheckout=function(e){var t=a.state.isCheckedOut;a.setState({isCheckedOut:!t||e})},a.showCheckoutForm=function(){var e=a.props.totalCostBeforeTax,t=(Object({NODE_ENV:"production",PUBLIC_URL:"."}).PK_LIVE,(100*a.calculateSubTotal(e).subTotal).toFixed(2));return r.a.createElement(le.StripeProvider,{apiKey:"pk_test_kUyitnXXbG5Rg8HhhfYhnklR00qMm6iAaZ"},r.a.createElement("div",{className:"stripe-container"},r.a.createElement("button",{className:"outline-danger btn",onClick:function(){return a.handleCheckout(!1)}},"x"),r.a.createElement("h1",null,"Confirm"),r.a.createElement("div",{className:"checkout-container"},r.a.createElement(le.Elements,null,r.a.createElement(ue,{subTotal:t})))))},a.calculateSubTotal=function(e){var t=.13*(e=Number(e)),a=.029*e+.35,n=e+t+a;return{tax:t.toFixed(2),proccessFee:a.toFixed(2),subTotal:n.toFixed(2)}},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.cart,n=t.totalCostBeforeTax,c=(t.items,this.state.isCheckedOut),o=this.calculateSubTotal(n),l=o.tax,s=o.proccessFee,i=o.subTotal;return r.a.createElement("div",{className:"cart-container"},r.a.createElement("h1",null,"Review Order"),a&&this.showCheckoutItems(),r.a.createElement("div",{className:"checkout-total-container"},r.a.createElement("div",{className:"checkout-messege"},"You have"," ",a.qty>=2?"".concat(a.qty," items "):"".concat(a.qty," item "),"in your cart."),r.a.createElement("span",{className:"checkout-label-tax"},"Tax:"),r.a.createElement("span",{className:"checkout-amount-tax"}," ",l),r.a.createElement("div",{className:"checkout-label-process-fees"},"Process Fee:"),r.a.createElement("span",{className:"checkout-amount-fees"},s),r.a.createElement("div",{className:"checkout-label-subtotal"},r.a.createElement("strong",null,"SubTotal:")),r.a.createElement("span",{className:"checkout-subtotal"},"CAD $",i)),r.a.createElement("div",{className:"checkout-btn btn btn-success",onClick:function(){return e.handleCheckout()}},"Proceed to checkout"),c&&this.showCheckoutForm())}}]),t}(n.Component)),me=Object(l.b)((function(e){var t=e.handleItem,a=t.cart,n=t.cart;return{cart:a,totalCostBeforeTax:n.totalCostBeforeTax,items:n.items}}),{removeItem:v})(de),pe=a(21),he=(a(110),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(k.a)(this,Object(I.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(pe.a)({},r,n))},a.onSubmit=function(e){var t=a.props,n=t.handleLogin;t.redirect;a.setState({isLoaded:!0}),e.preventDefault(),M("/authenticate/",{method:"POST",data:a.state,headers:{"Content-Type":"application/json"}}).then((function(e){var t=e.data,r=t.token,c=t.id;if(200!==e.status)throw new Error(e.error);W.a.set("token",r,{expires:7}),W.a.set("id",c,{expires:7}),console.log("Cookie: ",W.a.get()),n(e.data.token,e.data.id),a.handleGetCart(c),a.props.history.push("/")})).catch((function(e){console.log(e),alert("Error logging in please try again"),a.setState({isLoaded:!1})}))},a.handleGetCart=function(e){return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.awrap(M.get("/carts/find/".concat(e)).then((function(t){console.log(t,e),a.props.getCart(t.data),a.setState({isLoaded:!0})})).catch((function(e){alert("Error getting cart",e)})));case 2:case"end":return t.stop()}}))},a.state={email:"",password:"",containerClass:a.props.redirect?"register-form-container login-redirect":"register-form-container",isLoaded:!1},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props.redirect,t=this.state,a=t.containerClass,n=t.isLoaded;return r.a.createElement("div",{className:a},r.a.createElement("form",{className:"login-form",onSubmit:this.onSubmit},r.a.createElement("h1",null,"Login Below!"),n&&r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))),r.a.createElement("input",{type:"email",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.handleInputChange,required:!0}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,required:!0}),r.a.createElement("input",{type:"submit",value:"Submit"})),e&&r.a.createElement(T.b,{to:"/signup",className:"signup-redirect-btn"},"Signup"))}}]),t}(n.Component)),Ee=Object(l.b)((function(e){var t=e.handleItem;return{totalCostBeforeTax:t.totalCostBeforeTax,cart:t.cart,user:t.user}}),{getCart:g})(he),ge=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(k.a)(this,Object(I.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(pe.a)({},r,n))},a.onSubmit=function(e){var t=a.props.handleLogin;a.setState({isLoaded:!0}),e.preventDefault(),M("/signup",{method:"POST",data:JSON.stringify(a.state),headers:{"Content-Type":"application/json"}}).then((function(e){if(console.log(e.data),200!==e.status)throw a.setState({isLoaded:!1}),new Error(e.error);W.a.set("token",e.data.token,{expires:7}),W.a.set("id",e.data.userId,{expires:7}),t(e.data.token,e.data.userId);var n={id:e.data.userId};a.handleCreateCart(n),a.props.history.push("/")})).catch((function(e){console.error(e),a.setState({isLoaded:!1}),alert("User exists, Please try another username.")}))},a.handleCreateCart=function(e){var t={user:e,products:[]};M.post("/carts",t,{}).then((function(e){a.props.createCart(e.data),a.setState({isLoaded:!0})})).catch((function(e){alert("Error creating cart",e)}))},a.state={email:"",password:"",isLoaded:!1},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"componentWillUnmount",value:function(){this.setState({isLoaded:!1})}},{key:"render",value:function(){var e=this.state.isLoaded;return r.a.createElement("div",{className:"register-form-container"},r.a.createElement("form",{className:"login-form",onSubmit:this.onSubmit},r.a.createElement("h1",null,"Signup!"),e&&r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))),r.a.createElement("input",{type:"email",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.handleInputChange,required:!0}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,required:!0}),r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(n.Component),be=Object(l.b)((function(e,t){return console.log(e),{item:"item"}}),{createCart:b})(ge),fe=function e(t,a,n,r,c,o){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;Object(N.a)(this,e),this._id=t,this.name=a,this.description=n,this.price=r,this.image=c,this.category=o,this.qty=l},ve=[],Ce=new fe("5e2e3e3d50d8891b1cd5d9e4","Louis Vuitton","Juul Sticker","2.00","https://jaybenaim.github.io/isell/images/img4.jpg","Phone Accesories"),ye=new fe("5e2e3e6d50d8891b1cd5d9e5","Hello","Juul Sticker","2.00","https://jaybenaim.github.io/isell/images/img5.jpg","Phone Accesories"),Oe=new fe("5e2e3ea050d8891b1cd5d9e6","Marble","Juul Sticker","2.00","https://jaybenaim.github.io/isell/images/img6.jpg","Phone Accesories"),je=new fe("5e2e3ef050d8891b1cd5d9e7","Juul Holder","Juul Holder, Sticks to anywhere! Reusable!","2.00","https://jaybenaim.github.io/isell/images/img7.jpg","Phone Accesories"),Ne=new fe("5e2e3f2350d8891b1cd5d9e8","Rick and Morty","Juul Sticker","2.00","https://jaybenaim.github.io/isell/images/img8.jpg","Phone Accesories");ve.push(Ce,ye,Oe,je,Ne);var we=ve,ke=(a(111),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props.location.state.isLoggedIn,t=this.props.addToCart,a=we.map((function(a,n){a.id;var c=a.image;return void 0===a.image?null:r.a.createElement(H,Object.assign({key:n},a,{product:a,url:c,productClass:"products-card product-card",addToCart:t,isLoggedIn:e}))}));return r.a.createElement("div",null,r.a.createElement(U,{addToCart:t,hideDeal:!0}),r.a.createElement("div",{className:"product-container"},a))}}]),t}(n.Component)),Ie=(a(112),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(c)))).state={qty:1,addToCartButtonText:"Add to cart",addToCartButtonDisabled:!1},a.getImageOr404=function(e,t){return void 0===e?r.a.createElement("img",{src:"https://placehold.it/700x400",className:"card-img-top",alt:"none"}):r.a.createElement("img",{src:e,className:"card-img-top",alt:t})},a.handleAddProduct=function(e,t){var n=a.props,r=n.addItemToCart,c=n.cart,o=c.id,l=c.items,s={qty:e},i=(void 0===l?[]:l).map((function(e){return e._id}));i.push(t._id);var d={products:Object(u.a)(i)};e>1&&M.patch("/products/".concat(t._id),s,{}).then((function(e){console.log(e.statusText,"Product updated")})),M.patch("/carts/".concat(o),d,{}).then((function(a){console.log(a.data+"Item added"),r(e,t)})).catch((function(e){alert("Error adding item")})),a.setState({addToCartButtonText:"Added to cart",addToCartButtonDisabled:!0})},a.handleSetQty=function(e){var t=Number(e.target.value);a.setState({qty:t})},a.relatedProducts=function(){var e=a.props.location.state,t=e.isLoggedIn,n=e.description,c=a.props.addToCart,o=n.replace(/ .*/,"");return we.map((function(e,a){var n=e.image;return void 0===e.image?null:e.description.includes(o)?r.a.createElement(H,Object.assign({key:a},e,{_id:e._id,product:e,url:n,productClass:"products-card product-card",addToCart:c,isLoggedIn:t})):void 0}))},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location.state,a=t.name,n=t.description,c=t.price,o=t.image,l=t.product,s=this.state,i=s.addToCartButtonDisabled,u=s.addToCartButtonText,d=s.qty;return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"mt-4 mb-3"},r.a.createElement("small",null," ",a)),r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement("a",{href:"/isell"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active"},a)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},this.getImageOr404(o,a)),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h3",{className:"my-3"},"Product Description"),r.a.createElement("p",null,n),r.a.createElement("h3",{className:"my-3"}," CAD $",c),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"qty-integer"},"Qty: "),r.a.createElement("input",{className:"qty-input",type:"number",name:"quantity",min:"1",max:"100",placeholder:"1",ref:this.qtyRef,onChange:this.handleSetQty,disabled:i}),r.a.createElement("button",{disabled:i,className:"add-to-cart-btn ",onClick:function(){return e.handleAddProduct(d,l)}},u)))),r.a.createElement("h3",{className:"my-4 related-products-title"},"Related Products"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3 col-sm-6 mb-4"}),r.a.createElement("div",{className:"col-md-3 col-sm-6 mb-4"}),r.a.createElement("div",{className:"col-md-3 col-sm-6 mb-4"},this.relatedProducts()),r.a.createElement("div",{className:"col-md-3 col-sm-6 mb-4"})))}}]),t}(n.Component)),Ae=Object(l.b)((function(e){var t=e.handleItem;return{totalCostBeforeTax:t.totalCostBeforeTax,cart:t.cart,user:t.user}}),{addItemToCart:f,removeItemFromCart:v})(Ie),Te=a(62),Se=a(122),xe=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",addressType:"House",streetAddress:"",suite:"",prov:"ON",city:"",postalCode:"",placeholder:""},a.onSubmit=function(e){e.preventDefault();var t=a.props,n=t.handleAddAddress,r=t.showAddressForm,c=t.user.id,o={shippingInfo:a.state,profile:{id:c}};M("/addresses/",{method:"POST",data:o,headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data),r(),n(o)})).catch((function(e){alert("Something went wrong")}))},a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(pe.a)({},r,n))},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.showAddressForm;t.edit,t.address;return r.a.createElement("div",null,r.a.createElement(Y.a,{show:a,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(Y.a.Header,null,r.a.createElement(Y.a.Title,{id:"contained-modal-title-vcenter"},"Shipping Info")),r.a.createElement(Y.a.Body,null,r.a.createElement(Se.a,null,r.a.createElement(Se.a.Group,{controlId:"formBasicEmail"},r.a.createElement(Se.a.Label,null,"Name"),r.a.createElement(Se.a.Control,{type:"text",placeholder:"John Smith",name:"name",onChange:this.handleInputChange}),r.a.createElement(Se.a.Text,{className:"text-muted"},"Recipient name.")),r.a.createElement(Se.a.Group,{controlId:"formBasicPassword"},r.a.createElement(Se.a.Label,null,"Street Address"),r.a.createElement(Se.a.Control,{type:"text",placeholder:"222 Example Road",name:"streetAddress",onChange:this.handleInputChange})),r.a.createElement(Se.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(Se.a.Label,null,"Address Type"),r.a.createElement(Se.a.Control,{as:"select",name:"addressType",onChange:this.handleInputChange},r.a.createElement("option",null,"House"),r.a.createElement("option",null,"Apartment"),r.a.createElement("option",null,"Business"),r.a.createElement("option",null,"Hotel"),r.a.createElement("option",null,"Other"))),r.a.createElement(Se.a.Group,{controlId:"formBasicPassword"},r.a.createElement(Se.a.Label,null,"Suite/Apt #"),r.a.createElement(Se.a.Control,{type:"text",placeholder:"402",name:"suite",onChange:this.handleInputChange})),r.a.createElement(Se.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(Se.a.Label,null,"Province"),r.a.createElement(Se.a.Control,{as:"select",name:"prov",onChange:this.handleInputChange},r.a.createElement("option",null,"AB"),r.a.createElement("option",null,"BC"),r.a.createElement("option",null,"MB"),r.a.createElement("option",null,"NB"),r.a.createElement("option",null,"NL"),r.a.createElement("option",null,"NS"),r.a.createElement("option",null,"ON"),r.a.createElement("option",null,"PE"),r.a.createElement("option",null,"QC"),r.a.createElement("option",null,"SK"),r.a.createElement("option",null,"NT"),r.a.createElement("option",null,"NU"),r.a.createElement("option",null,"YT"))),r.a.createElement(Se.a.Group,{controlId:"formBasicPassword"},r.a.createElement(Se.a.Label,null,"City"),r.a.createElement(Se.a.Control,{type:"text",placeholder:"Toronto",name:"city",onChange:this.handleInputChange})),r.a.createElement(Se.a.Group,{controlId:"formBasicPassword"},r.a.createElement(Se.a.Label,null,"Postal Code"),r.a.createElement(Se.a.Control,{type:"text",placeholder:"X3X 3X3",name:"postalCode",onChange:this.handleInputChange})),r.a.createElement(X.a,{variant:"primary",type:"submit",onClick:function(t){return e.onSubmit(t)}},"Submit"))),r.a.createElement(Y.a.Footer,null,r.a.createElement(X.a,{onClick:function(){return a()}},"Close"))))}}]),t}(n.Component),Le=Object(l.b)((function(e){return{user:e.handleItem.user}}),{})(xe),Pe=R.a.create({baseURL:"http://localhost:5000/api"}),Fe=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",addressType:"House",street:"",suite:"",province:"ON",city:"",postalCode:""},a.onSubmit=function(e){e.preventDefault();var t=a.props,n=t.showEditForm,r=(t.user.id,t.profileId),c=t.address._id,o={shippingInfo:a.state,profile:{id:r}};console.log(a.state),M("/addresses/".concat(c),{method:"PATCH",data:o,headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data),n()})).catch((function(e){alert("Something went wrong")}))},a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(pe.a)({},r,n))},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.address,t=e.addressType,a=e.city,n=e.name,r=e.postalCode,c=e.province,o=e.street,l=e.suite;this.setState({addressType:t,city:a,name:n,postalCode:r,province:c,street:o,suite:l})}},{key:"render",value:function(){var e=this,t=this.props,a=t.showEditForm,n=t.showForm,c=t.address;return r.a.createElement("div",null,r.a.createElement(Y.a,{show:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(Y.a.Header,null,r.a.createElement(Y.a.Title,{id:"contained-modal-title-vcenter"},"Shipping Info")),r.a.createElement(Y.a.Body,null,r.a.createElement(Se.a,null,r.a.createElement(Se.a.Group,{controlId:"formBasicEmail"},r.a.createElement(Se.a.Label,null,"Name"),r.a.createElement(Se.a.Control,{type:"text",placeholder:c.name,name:"name",onChange:this.handleInputChange}),r.a.createElement(Se.a.Text,{className:"text-muted"},"Recipient name.")),r.a.createElement(Se.a.Group,{controlId:"formBasicPassword"},r.a.createElement(Se.a.Label,null,"Street "),r.a.createElement(Se.a.Control,{type:"text",placeholder:c.street,name:"streetAddress",onChange:this.handleInputChange})),r.a.createElement(Se.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(Se.a.Label,null,"Address Type"),r.a.createElement(Se.a.Control,{as:"select",name:"addressType",onChange:this.handleInputChange},r.a.createElement("option",null,"House"),r.a.createElement("option",null,"Apartment"),r.a.createElement("option",null,"Business"),r.a.createElement("option",null,"Hotel"),r.a.createElement("option",null,"Other"))),r.a.createElement(Se.a.Group,{controlId:"formBasicPassword"},r.a.createElement(Se.a.Label,null,"Suite/Apt #"),r.a.createElement(Se.a.Control,{type:"text",placeholder:c.suite,name:"suite",onChange:this.handleInputChange})),r.a.createElement(Se.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(Se.a.Label,null,"Province"),r.a.createElement(Se.a.Control,{as:"select",name:"province",value:c.province,onChange:this.handleInputChange},r.a.createElement("option",null,"AB"),r.a.createElement("option",null,"BC"),r.a.createElement("option",null,"MB"),r.a.createElement("option",null,"NB"),r.a.createElement("option",null,"NL"),r.a.createElement("option",null,"NS"),r.a.createElement("option",null,"ON"),r.a.createElement("option",null,"PE"),r.a.createElement("option",null,"QC"),r.a.createElement("option",null,"SK"),r.a.createElement("option",null,"NT"),r.a.createElement("option",null,"NU"),r.a.createElement("option",null,"YT"))),r.a.createElement(Se.a.Group,{controlId:"formBasicPassword"},r.a.createElement(Se.a.Label,null,"City"),r.a.createElement(Se.a.Control,{type:"text",placeholder:c.city,name:"city",onChange:this.handleInputChange})),r.a.createElement(Se.a.Group,{controlId:"formBasicPassword"},r.a.createElement(Se.a.Label,null,"Postal Code"),r.a.createElement(Se.a.Control,{type:"text",placeholder:c.postalCode,name:"postalCode",onChange:this.handleInputChange})),r.a.createElement(X.a,{variant:"primary",type:"submit",onClick:function(t){return e.onSubmit(t)}},"Submit"))),r.a.createElement(Y.a.Footer,null,r.a.createElement(X.a,{onClick:function(){return a()}},"Close"))))}}]),t}(n.Component),Be=Object(l.b)((function(e){return{user:e.handleItem.user}}),{})(Fe),De=(a(115),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(c)))).state={showAddressForm:!1,showEditForm:!1,newData:"",addresses:[],editKey:""},a.showAddressForm=function(){var e=a.state.showAddressForm;a.setState({showAddressForm:!e})},a.handleAddAddress=function(e){a.showAddress(e)},a.showEditForm=function(e){var t=a.state.showEditForm;a.setState({showEditForm:!t,editKey:e})},a.editInfo=function(e){a.showEditForm(e)},a.showAddresses=function(e){var t=a.state.addresses;return console.log(typeof t),t?t.map((function(e,t){var n=e.name,c=e.addressType,o=e.street,l=e.suite,s=e.province,i=e.city,u=e.postalCode;return r.a.createElement("div",{className:"shipping-address",key:t},r.a.createElement("br",null),r.a.createElement("p",null,"Name: ",n||"N/A","\xa0 \xa0"," "),r.a.createElement("p",null,"Address Type: ",c||"N/A"),r.a.createElement("p",null,"Street: ",o||"N/A"),r.a.createElement("p",null,"Suite/Apt: ",l||"N/A"),r.a.createElement("p",null,"Province: ",s||"N/A"),r.a.createElement("p",null,"City: ",i||"N/A"),r.a.createElement("p",null,"Postal Code: ",u||"N/A"),r.a.createElement("span",{onClick:function(){return a.editInfo(t)}},"Edit")," ",r.a.createElement("hr",null))})):t},a.getProfile=function(){var e=a.props.user.id;Pe("/profiles/find/".concat(e),{method:"GET"}).then((function(e){console.log(e.data),a.props.getProfile(e.data);var t=a.props.profile.shippingInfo;setTimeout((function(){a.setState({profileId:e.data._id,addresses:t})}),500)})).catch((function(e){alert("Something went wrong")}))},a.componentDidMount=function(){a.getProfile()},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.showAddressForm,n=t.showEditForm,c=t.addresses,o=t.editKey,l=t.profileId;return r.a.createElement("div",null,r.a.createElement("h4",null,"Shipping Address"),this.showAddresses(),r.a.createElement("button",{className:"add-address-btn",onClick:function(){return e.showAddressForm()}},r.a.createElement("img",{src:"https://img.icons8.com/ios/50/000000/plus.png",alt:"add address",className:"add-address-icon"}),"Add an address"),a&&r.a.createElement(Le,{showForm:a,showAddressForm:this.showAddressForm,handleAddAddress:this.handleAddAddress}),n&&r.a.createElement(Be,{showForm:n,address:Object(Te.a)({},c[o]),showEditForm:this.showEditForm,profileId:l}),r.a.createElement("a",{href:"https://icons8.com/icon/1501/plus"}))}}]),t}(n.Component)),_e=Object(l.b)((function(e){return{user:e.handleItem.user,profile:e.handleProfile.profile}}),{getProfile:function(e){return{type:"GET_PROFILE",payload:{profile:e}}}})(De),qe=(a(116),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={showOrders:!1,showAddress:!1},a.show=function(e){var t=a.state,n=t.showOrders,r=t.showAddress;"orders"===e&&a.setState({showOrders:!n}),"address"===e&&a.setState({showAddress:!r}),"orders"===e&&a.setState({showOrders:!n})},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.showOrders,n=t.showAddress;return r.a.createElement("div",{className:"account-page"},r.a.createElement("div",{className:"account-orders",onClick:function(){return e.show("orders")}},"Orders"),a&&r.a.createElement("div",{className:"account-orders-items"},r.a.createElement("strong",null,"No Orders Yet.")),r.a.createElement("div",{className:"account-address",onClick:function(){return e.show("address")}},"Address"),n&&r.a.createElement("div",{className:"account-address-items"},r.a.createElement(_e,null)," "))}}]),t}(n.Component)),Re=a(64),Me=a(63);a(117);var Ge=function(e){var t=e.isLoggedIn,a=e.handleLogin,c=e.children,o=Object(Me.a)(e,["isLoggedIn","handleLogin","children"]),l=Object(n.useState)(!0),s=Object(Re.a)(l,2),i=s[0],u=s[1];return void 0===t&&(t=!1),r.a.createElement(S.a,Object.assign({},o,{render:function(e){return t?c:i?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert alert-danger login-alert",role:"alert"},"Please login first!",r.a.createElement("button",{className:"btn-success alert-close-btn",onClick:function(){return u(!1)}},"X"))):r.a.createElement(Ee,{redirect:!0,handleLogin:a})}}))},He=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("form",null,"form for profile")}}]),t}(n.Component),Ue=(a(118),Object(x.a)()),Je=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={selectedProduct:null,addedToCart:!1,valid:!1,showAlert:!1,y:0},a.setSelectedProduct=function(e){a.setState({selectProduct:e})},a.toggleAlert=function(){var e=a.state.showAlert;a.setState({showAlert:!e})},a.handleLogin=function(e,t){a.getCart(t),t||a.forceUpdate()},a.getCart=function(e){var t;return j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=a.props.user.id,null!==e){n.next=5;break}alert("Please sign in"),n.next=8;break;case 5:if(!t){n.next=8;break}return n.next=8,j.a.awrap(M.get("/carts/find/".concat(t)).then((function(e){a.props.getCart(e.data),console.log(e.data)})).catch((function(e){console.log(e),alert("Error getting cart",e)})));case 8:case"end":return n.stop()}}))},a}return Object(A.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=W.a.get("id");e&&this.getCart(e)}},{key:"render",value:function(){var e=this,t=this.state.showAlert,a=!!this.props.user.id;return r.a.createElement(T.a,{basename:"/isell",history:Ue},r.a.createElement("div",{className:"App"},r.a.createElement(re,{isLoggedIn:a,handleLogin:this.handleLogin}),t&&r.a.createElement("div",{className:"alert alert-danger",role:"alert"},r.a.createElement("button",{className:"btn-danger alert-close-btn",onClick:function(){return e.toggleAlert()}},"X"),r.a.createElement("br",null),"YOU ALREADY ADDED THIS ITEM TO YOUR CART!",r.a.createElement("br",null),r.a.createElement("em",null,"Check your cart for multiples"),r.a.createElement("br",null)),r.a.createElement("div",{className:"content"},r.a.createElement(S.c,null,r.a.createElement(S.a,{exact:!0,path:"/"},r.a.createElement(J,{isLoggedIn:a})),r.a.createElement(S.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(Ee,Object.assign({},t,{handleLogin:e.handleLogin}))}}),r.a.createElement(S.a,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(be,Object.assign({},t,{handleLogin:e.handleLogin}))}}),r.a.createElement(S.a,{exact:!0,path:"/Products",render:function(t){return r.a.createElement(ke,Object.assign({},t,{removeFromCart:e.removeFromCart,selectProduct:e.setSelectedProduct}))}}),r.a.createElement(S.a,{exact:!0,path:"/products/:id/show",render:function(e){return r.a.createElement(Ae,e)}}),r.a.createElement(Ge,{path:"/cart",isLoggedIn:a},r.a.createElement(S.a,{exact:!0,path:"/cart",render:function(e){return r.a.createElement(me,Object.assign({},e,{timestamp:(new Date).toString()}))}})),r.a.createElement(Ge,{path:"/profiles/new",isLoggedIn:a},r.a.createElement(S.a,{exact:!0,path:"/profiles/new",render:function(e){return r.a.createElement(He,e)}})),r.a.createElement(Ge,{path:"/account",isLoggedIn:a,handleLogin:this.handleLogin},r.a.createElement(S.a,{exact:!0,path:"/account",render:function(e){return r.a.createElement(qe,e)}})))),r.a.createElement("footer",{className:"py-5 bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"m-0 text-center text-white"},"Copyright \xa9 Jacob Benaim 2019 ",r.a.createElement("br",null)," NOT A REAL ECOMMERCE SITE DO NOT TRY TO PURCHASE ",r.a.createElement("br",null),r.a.createElement("a",{href:"https://icons8.com/icon/O0098eRiFjhT/shopping-cart-promotion"},"Shopping Cart Promotion icon by Icons8"))))))}}]),t}(n.Component),Ye=Object(l.b)((function(e){var t=e.handleItem,a=t.cart,n=t.user;return n.id=W.a.get("id")||void 0,{cart:a,user:n}}),{createCart:b,getCart:g})(Je);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,{store:y},r.a.createElement(Ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},66:function(e,t,a){e.exports=a(119)},75:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.81eb11b3.chunk.js.map